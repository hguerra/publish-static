{"version":3,"sources":["assets/img/restore-logo.png","assets/img/bmu-logo.png","assets/img/resume-en.png","assets/img/resume-pt.png","assets/img/8x8-00000000.png","serviceWorker.ts","i18n.tsx","containers/Types.ts","store/index.tsx","core/utils/index.ts","store/utils.tsx","components/Legend/index.tsx","store/mapper.tsx","components/Report/report.utils.tsx","components/Report/index.tsx","components/Report/ReportAllBiomes.tsx","components/Temporal/index.tsx","components/Leaflet/feature.service.ts","components/Leaflet/icons.ts","components/Leaflet/index.tsx","layouts/Main/index.tsx","components/Resume/index.tsx","components/SideContent/SideChip.tsx","components/SideContent/SideChipList.tsx","components/SideContent/SideChipListCompareScenario.tsx","components/SideContent/index.tsx","components/MapTitle/index.tsx","layouts/Sidebar/index.tsx","layouts/App/index.tsx","index.tsx"],"names":["module","exports","Boolean","window","location","hostname","match","i18n","use","Backend","LanguageDetector","initReactI18next","init","whitelist","fallbackLng","debug","backend","loadPath","detection","order","lookupFromPathIndex","checkWhitelist","cache","interpolation","escapeValue","formatSeparator","MapPropsViewStyleValueType","ViewType","TimelineOption","initialState","currentScenario","currentAttribute","currentBorder","currentBackground","currentYear","changeFromYear","currentTimelineOption","ABSOLUTE","views","mapPropeties","lat","lng","zoom","dataTooltipsEnabled","colors","None","IDC2","FC","FCnoCRA","FCnoSFA","FCnoCRAnoSFA","compareScenarioEnabled","compareWithScenario","reducer","state","action","type","newStateAddView","view","mapProperties","visible","SCENARIO","name","ATTRIBUTE","BORDER","BACKGROUND","newViews","map","viewType","newState","viewActive","find","backgroundActive","newBackgroundActive","undefined","data","year","option","enabled","createContainer","useReducer","Provider","useTrackedState","useDispatch","useUpdate","formatNumberDefault","n","toFixed","replace","createObjectId","Date","getTime","toString","Math","random","toLowerCase","filter","getScenarioMapper","t","getAttributesMapper","Agriculture","Pasture","getBorderMapper","Biomes","Brazil","Regions","States","useStyles","makeStyles","theme","createStyles","root","width","position","right","top","zIndex","breakpoints","down","maxWidth","paddingBottom","legendBgBottom","legendBgTop","legendBgMiddleBrazil","legendBgMiddleRegions","cardContentCustom","padding","cardLongContentCustom","overflow","height","marginTop","cardHeader","background","color","textTransform","fontSize","fontWeight","letterSpacing","title","display","justifyContent","marginBottom","Legend","React","forwardRef","ref","style","hoverProperties","onHover","onClick","classes","useTranslation","useState","legendHoverProperties","setLegendHoverProperties","selectedRef","useRef","values","props","value","forEach","v","label","prefix","displayValuePrefix","suffix","displayValueSuffix","ANY","STRING","valueString","defaultValue","NUMBER","valueNumber","RANGE","valueRange","start","end","push","icon","fillColor","legendValuesFactory","hasValues","length","handleClick","hoverItem","includes","getLegendContentRef","handleMouseHover","useImperativeHandle","setHover","current","scrollIntoView","Card","className","CardHeader","Error","getLabelSelected","cardTitleType","getTitle","CardContent","Typography","gutterBottom","key","onMouseEnter","onMouseLeave","Icon","memo","years","colsMap","scenarioPropMap","idc2","fc","fcnocra","fcnosfa","fcnocranosfa","scenarioNameMap","idc2_dd","fcdd","fcnocra_dd","scenarioColorMap","none","scenarioColorMapFriendly","NONE","scenarioNameFriendly","scenarioName","scenariosFriendlyNames","Object","scenariosShortNames","keys","scenariosNames","datasetAbbreviation","scenariosNamesUpper","scenariosFriendlyNamesPermutation","inputArr","result","permute","arr","m","i","curr","slice","next","splice","concat","permutator","getFieldName","yearValue","scenario","getScenarioName","getYear","attribute","getAttributeName","getFieldValue","geoJsonProperties","fieldName","fieldValue","hasOwnProperty","labels","datasetNames","datasetLabels","datasetDescriptions","datasetName","datasets","property","names","shortNames","friendlyNames","scenariosDatasets","currentScenarioLabel","scenariosColors","mapper","scenariosName","scenariosLabels","scenario0Name","scenario1Name","scenario2Name","scenario3Name","scenario4Name","scenario0Label","scenario1Label","scenario2Label","scenario3Label","scenario4Label","compareColor","scenario0Color","scenario1Color","scenario2Color","scenario3Color","scenario4Color","datasetsFactory","properties","validLabels","axis","isDifference","DIFFERENCE","parts","split","date","join","scenarioNameToCheck","startsWith","object","baseAttributeName","baseAttributeKey","baseAttributeValue","x","y","propertyName","found","entry","attributeToFix","forreg","scenarioToFix","unshift","chartDataFactory","scenarioData","scenario0Data","scenario1Data","scenario2Data","scenario3Data","scenario4Data","baseArray","compareArray","newLabel","newArray","index","baseValue","Number","newValue","fill","lineTension","backgroundColor","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","pointBorderColor","pointBackgroundColor","pointBorderWidth","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","pointRadius","pointHitRadius","chartOptionsFactory","unity","denominator","scales","xAxes","scaleLabel","labelString","yAxes","ticks","callback","tooltips","mode","callbacks","tooltipItem","defaultLabel","datasetIndex","yLabel","legend","getStyles","buttonDefault","getFeatureColor","featureName","s","open","onClose","scroll","descriptionElementRef","charts","info","selectedName","description","options","createCharts","useEffect","descriptionElement","focus","dialogTitle","nm","Dialog","fullWidth","aria-labelledby","aria-describedby","DialogTitle","id","DialogContent","dividers","variant","align","DialogActions","Button","chart","lines","chartLabel","chartDescription","features","feature","attributeLabel","featureLabel","attributeName","attributeDescription","chartDatasets","line","createChartsAllBiomes","bottom","left","slider","spacing","content","alignItems","marginRight","margin","thumbShadow","defaultMarks","createTemporalSlider","barColor","buttonColor","trackHeight","withStyles","thumb","boxShadow","marginLeft","active","valueLabel","track","rail","opacity","mark","markActive","Slider","TemporalSliderScenarioIDC2Difference","TemporalSliderScenarioIDC2Absolute","TemporalSliderScenarioFCDifference","TemporalSliderScenarioFCAbsolute","TemporalSliderScenarioFCnoCRADifference","TemporalSliderScenarioFCnoCRAAbsolute","TemporalSliderScenarioFCnoSFADifference","TemporalSliderScenarioFCnoSFAAbsolute","TemporalSliderScenarioFCnoCRAnoSFADifference","TemporalSliderScenarioFCnoCRAnoSFAAbsolute","TemporalSliderCompareScenario","dispatch","anchorEl","setAnchorEl","sliderValue","setSliderValue","buttonDisabled","setButtonDisabled","validYears","selectedYear","setSelectedYear","marks","setMarks","upperNames","handleChangeSlider","event","newSliderValue","timeline","debounce","debounceSlider","handleClickMenuYears","currentTarget","handleCloseMenuYears","newMarks","aria-controls","aria-haspopup","keepMounted","MenuItem","IconButton","aria-label","disabled","indexMark","findIndex","sliderEvent","timelineInterval","setInterval","clearInterval","step","valueLabelDisplay","onChange","defaultViewStyleProps","weight","fillOpacity","FeatureService","biomes","brazil","regions","states","attributes","borders","Promise","resolve","axios","get","responseType","then","response","geojson","geobuf","decode","Pbf","catch","error","console","log","brazilStates","brazilStatesNames","brazilStatesStyles","hexColor","createStyle","factor","resolution1x1km","resolution50x50km","url","process","iconEquals","L","iconUrl","require","iconSize","iconAnchor","getBaseViewGraphAllBtn","borderRadius","viewGraphAllBiomesBtn","viewGraphAllRegionsBtn","viewGraphAllStatesBtn","btnCustom","tooltipFC","tooltipNoFC","geoJSONStyle","newStyle","propertyValue","propertyStyleFound","dialogOpen","setDialogOpen","AllBiomesDialogOpen","setAllBiomesDialogOpen","featureSelected","setFeatureSelected","geoJSONRef","mapRef","legendRef","namesByLayer","removeFromHover","handleHighlightFeature","layer","setStyle","dashArray","Browser","ie","opera","edge","bringToFront","handleResetHighlight","leafletElement","resetStyle","onEachFeature","getFeatureName","on","e","target","handleAllBiomesDialogClose","handleHoverLegend","handleClickLegend","featureService","all","getBordersBrazil","getBordersRegions","getBordersBiomes","getBordersStates","getAttributesBiomes","getScenarios","getBackgrounds","setTimeout","a","getLabelsBrazil","finally","getLabelsRegions","getLabelsStates","getLinesStates","Map","center","zoomControl","scrollWheelZoom","dragging","TileLayer","attribution","GeoJSON","layers","geometry","coords","coordinates","baseFieldValue","compareFildValue","fieldDiff","tooltipValue","abs","emojiSelected","tooltipClassSelected","Marker","Tooltip","direction","offset","permanent","fieldDiffValue","loadAttributes","attributesMapper","isTMS","baseUrl","minZoom","maxZoom","tms","loadTileLayer","loadLines","border","filterByName","size","loadBtnViewGraphAllBiomes","imgContent","flexDirection","imgLogo","imgResumeTable","imgBMULogo","contentDialogTitile","flexWrap","textAlign","dialogInfo","up","src","Logo","alt","DialogContentText","tabIndex","href","rel","resumePt","resumeEn","BMULogo","setActive","tooltip","arrow","Chip","newActive","styleOn","backgroundColorOnActive","getStyle","getBackgroundColor","chip","chips","hasOneActive","getChips","cardContent","main","customAccordionSummary","customAccordionDetails","heading","typography","pxToRem","fontWeightMedium","chipSpacing","formControl","minWidth","switch","compareSwitch","checkedA","checkedB","stateCompareSwitch","setStateCompareSwitch","compareOption","setCompareOption","switchStateTimelineOption","setSwitchStateTimelineOption","handleCompareSwitchChange","checked","compareWith","switchOption","Accordion","defaultExpanded","AccordionSummary","expandIcon","AccordionDetails","FormControlLabel","control","Switch","lineHeight","scenarioMapper","borderMapper","borderPrefix","borderDescription","unitType","getMapTitleEn","getMapTitlePt","getCard","appBar","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","enteringScreen","menuButton","hide","flexShrink","whiteSpace","drawerOpen","drawerClose","overflowX","toolbar","mixins","flexGrow","contentInfo","contentInfoText","subtitle","download","link","textDecoration","adjustMobile","useTheme","setOpen","resumeOpen","setResumeOpen","CssBaseline","AppBar","clsx","Toolbar","host","Drawer","paper","Divider","createMuiTheme","palette","primary","secondary","ThemeProvider","fallback","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.a1ad96fe.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/restore-logo.3f38353f.png\";","module.exports = __webpack_public_path__ + \"static/media/bmu-logo.d3e895f3.png\";","module.exports = __webpack_public_path__ + \"static/media/resume-en.121e1769.png\";","module.exports = __webpack_public_path__ + \"static/media/resume-pt.900a7533.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAQAAABuBnYAAAAAD0lEQVR42mNkQAOMAyMAAALsAAmn8BA+AAAAAElFTkSuQmCC\"","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import i18n from 'i18next';\nimport Backend from 'i18next-http-backend';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport { initReactI18next } from 'react-i18next';\n\ni18n\n  // Habilita o backend do i18next\n  .use(Backend)\n  // Habilita a deteco automtica de linguagem\n  .use(LanguageDetector)\n  // Habilita o mdulo de inicializao do hook\n  .use(initReactI18next)\n  .init({\n    // Linguagem padro utilizada\n    whitelist: ['en', 'pt'],\n    fallbackLng: ['en'],\n    debug: false,\n    backend: {\n      loadPath: './locales/{{lng}}/translation.json',\n    },\n    // Detecta e guarda um cookie em cache da linguagem fornecida\n    detection: {\n      order: ['querystring'],\n      lookupFromPathIndex: 0,\n      checkWhitelist: true,\n      cache: ['cookie'],\n    },\n    interpolation: {\n      escapeValue: false,\n      formatSeparator: '.',\n    },\n  });\n\nexport default i18n;\n","export type MapPropsViewStyle = {\n  color: string;\n  weight: number;\n  fillOpacity: number;\n  fillColor: string;\n};\n\nexport enum MapPropsViewStyleValueType {\n  ANY = 'ANY',\n  STRING = 'STRING',\n  NUMBER = 'NUMBER',\n  RANGE = 'RANGE',\n}\n\nexport type ViewStyleValue = {\n  valueString?: string;\n  valueNumber?: number;\n  valueRange?: { start: number; end: number };\n  displayValuePrefix?: string;\n  displayValueSuffix?: string;\n  style: MapPropsViewStyle;\n};\n\nexport type ViewStyleKeyValue = {\n  type: MapPropsViewStyleValueType;\n  key: string;\n  value: ViewStyleValue[];\n};\n\nexport type MapPropsLayer = {\n  name: string;\n  style: ViewStyleKeyValue;\n};\n\nexport type MapProps = {\n  lat: number;\n  lng: number;\n  zoom: number;\n  dataTooltipsEnabled: boolean;\n};\n\nexport type LegendValue = {\n  icon: string;\n  fillColor: string;\n  label: string;\n  name: string;\n};\n\nexport enum ViewType {\n  SCENARIO = 'SCENARIO',\n  ATTRIBUTE = 'ATTRIBUTE',\n  BORDER = 'BORDER',\n  BACKGROUND = 'BACKGROUND',\n}\n\nexport type View = {\n  name: string;\n  label: string;\n  type: ViewType;\n  visible: boolean;\n  description: string;\n  url?: string;\n  data?: GeoJSON.GeoJsonObject;\n  style?: ViewStyleKeyValue;\n};\n\nexport enum TimelineOption {\n  ABSOLUTE = 'Absolute values',\n  DIFFERENCE = 'Change from 2020',\n}\n","import { MapProps, TimelineOption, View, ViewType } from 'containers/Types';\nimport { useReducer } from 'react';\nimport { createContainer } from 'react-tracked';\n\n// { [name: string]: any; } | null\nexport type State = {\n  currentScenario: string;\n  currentAttribute: string;\n  currentBorder: string;\n  currentBackground: string;\n  currentYear: number;\n  changeFromYear: number;\n  currentTimelineOption: TimelineOption;\n  views: View[];\n  mapPropeties: MapProps;\n  colors: { [name: string]: any };\n  compareScenarioEnabled: boolean;\n  compareWithScenario: string;\n};\n\ntype Action =\n  | { type: 'ADD_VIEW'; view: View }\n  | { type: 'TOGGLE_VIEW'; viewType: ViewType; name: string; visible: boolean }\n  | { type: 'SET_CURRENT_YEAR'; year: number }\n  | { type: 'SET_CHANGE_FROM_YEAR'; year: number }\n  | { type: 'SET_TIMELINE_OPTION'; option: TimelineOption }\n  | { type: 'SET_MAP_TOOLTIP'; enabled: boolean }\n  | { type: 'SET_ENABLE_COMPARE_SCENARIO'; enabled: boolean }\n  | { type: 'SET_COMPARE_SCENARIO'; name: string };\n\nexport const initialState: State = {\n  currentScenario: 'IDC2',\n  currentAttribute: 'Forest vegetation',\n  currentBorder: 'Biomes',\n  currentBackground: 'None',\n  currentYear: 2020,\n  changeFromYear: 2020,\n  currentTimelineOption: TimelineOption.ABSOLUTE,\n  views: [],\n  mapPropeties: {\n    lat: -15.35143,\n    lng: -49.01675,\n    zoom: 4,\n    dataTooltipsEnabled: true,\n  },\n  colors: {\n    None: 'rgba(117,117,117,1)',\n    IDC2: 'rgba(215,25,28,1)',\n    FC: 'rgba(253,174,97,1)',\n    FCnoCRA: 'rgba(229,229,171,1)',\n    FCnoSFA: 'rgba(171,221,164,1)',\n    FCnoCRAnoSFA: 'rgba(43,131,186,1)',\n  },\n  compareScenarioEnabled: false,\n  compareWithScenario: '',\n};\n\nconst reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case 'ADD_VIEW':\n      const newStateAddView = {\n        ...state,\n        views: [...state.views, action.view],\n        mapProperties: { ...state.mapPropeties },\n      };\n\n      if (action.view.visible) {\n        if (action.view.type === ViewType.SCENARIO) {\n          newStateAddView.currentScenario = action.view.name;\n        }\n\n        if (action.view.type === ViewType.ATTRIBUTE) {\n          newStateAddView.currentAttribute = action.view.name;\n        }\n\n        if (action.view.type === ViewType.BORDER) {\n          newStateAddView.currentBorder = action.view.name;\n        }\n\n        if (action.view.type === ViewType.BACKGROUND) {\n          newStateAddView.currentBackground = action.view.name;\n        }\n      }\n\n      return newStateAddView;\n    case 'TOGGLE_VIEW':\n      const resetViews = state.views.map((view) => {\n        if (view.type === action.viewType) {\n          return { ...view, visible: false };\n        }\n\n        return { ...view };\n      });\n\n      const newViews = resetViews.map((view) => {\n        if (view.type === action.viewType && view.name === action.name) {\n          return { ...view, visible: action.visible };\n        }\n\n        return { ...view };\n      });\n\n      const newState = {\n        ...state,\n        mapPropeties: {\n          ...state.mapPropeties,\n          dataTooltipsEnabled: false,\n        },\n      };\n\n      const viewActive = newViews.find(\n        (view) => view.type === action.viewType && view.visible,\n      );\n      if (viewActive) {\n        if (viewActive.type === ViewType.SCENARIO) {\n          newState.currentScenario = viewActive.name;\n        }\n\n        if (viewActive.type === ViewType.ATTRIBUTE) {\n          newState.currentAttribute = viewActive.name;\n\n          if (viewActive.name === 'CR Carbon') {\n            const backgroundActive = newViews.find(\n              (view) =>\n                view.type === ViewType.BACKGROUND &&\n                view.visible &&\n                view.name === '1x1km',\n            );\n\n            if (backgroundActive) {\n              backgroundActive.visible = false;\n              newState.currentBackground = 'None';\n\n              const newBackgroundActive = newViews.find(\n                (view) =>\n                  view.type === ViewType.BACKGROUND && view.name === 'None',\n              );\n\n              if (newBackgroundActive) {\n                newBackgroundActive.visible = true;\n              }\n            }\n          }\n        }\n\n        if (viewActive.type === ViewType.BORDER) {\n          newState.currentBorder = viewActive.name;\n          newState.mapPropeties.dataTooltipsEnabled =\n            viewActive.visible && viewActive.data !== undefined;\n        }\n\n        if (viewActive.type === ViewType.BACKGROUND) {\n          newState.currentBackground = viewActive.name;\n        }\n\n        newState.views = newViews;\n      }\n\n      const borderActive = newViews.find(\n        (view) =>\n          view.type === ViewType.BORDER && view.visible && view.name !== 'None',\n      );\n\n      if (borderActive) {\n        newState.mapPropeties.dataTooltipsEnabled = true;\n      }\n\n      return newState;\n    case 'SET_CURRENT_YEAR':\n      return {\n        ...state,\n        currentYear: action.year,\n      };\n    case 'SET_CHANGE_FROM_YEAR':\n      return {\n        ...state,\n        currentYear: action.year,\n        changeFromYear: action.year,\n      };\n    case 'SET_TIMELINE_OPTION':\n      return {\n        ...state,\n        currentTimelineOption: action.option,\n      };\n    case 'SET_MAP_TOOLTIP':\n      return {\n        ...state,\n        mapPropeties: {\n          ...state.mapPropeties,\n          dataTooltipsEnabled: action.enabled,\n        },\n      };\n    case 'SET_ENABLE_COMPARE_SCENARIO':\n      return {\n        ...state,\n        compareScenarioEnabled: action.enabled,\n      };\n    case 'SET_COMPARE_SCENARIO':\n      return {\n        ...state,\n        compareWithScenario: action.name,\n      };\n    default:\n      return state;\n  }\n};\n\nconst useValue = () => useReducer(reducer, initialState);\n\nexport const {\n  Provider,\n  useTrackedState,\n  useUpdate: useDispatch,\n} = createContainer(useValue);\n","export const formatNumberDefault = (n: number | string): string => {\n  if (typeof n === 'string') {\n    return n;\n  }\n  return n.toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, '$&,');\n};\n\nexport const createObjectId = () => {\n  const timestamp = ((new Date().getTime() / 1000) | 0).toString(16);\n  return (\n    timestamp +\n    'xxxxxxxxxxxxxxxx'\n      .replace(/[x]/g, function () {\n        return ((Math.random() * 16) | 0).toString(16);\n      })\n      .toLowerCase()\n  );\n};\n","import { State } from 'store';\nimport { TimelineOption, View, ViewType } from 'containers/Types';\n\nexport const filter = (state: State, viewType: ViewType): View[] => {\n  return state.views.filter((view: View) => view.type === viewType);\n};\n\nexport const filterByName = (\n  state: State,\n  viewType: ViewType,\n  name: string,\n): View | undefined => {\n  return state.views.find(\n    (view: View) => view.type === viewType && view.name === name,\n  );\n};\n\nexport const getScenarioMapper = (t: any) => {\n  return {\n    IDC2: t('Drawer.SideContent.scenario.chips.0.label'),\n    FC: t('Drawer.SideContent.scenario.chips.1.label'),\n    FCnoCRA: t('Drawer.SideContent.scenario.chips.2.label'),\n    FCnoSFA: t('Drawer.SideContent.scenario.chips.3.label'),\n    FCnoCRAnoSFA: t('Drawer.SideContent.scenario.chips.4.label'),\n  } as any;\n};\n\nexport const getAttributesMapper = (t: any) => {\n  return {\n    'Natural Vegetation': t('Drawer.SideContent.attribute.chips.0.label'),\n    'Forest Regenerated': t('Drawer.SideContent.attribute.chips.1.label'),\n    'Planted Forest': t('Drawer.SideContent.attribute.chips.2.label'),\n    Agriculture: t('Drawer.SideContent.attribute.chips.3.label'),\n    Pasture: t('Drawer.SideContent.attribute.chips.4.label'),\n    'CR Carbon': t('Drawer.SideContent.attribute.chips.5.label'),\n  } as any;\n};\n\nexport const getBorderMapper = (t: any) => {\n  return {\n    Biomes: t('Drawer.SideContent.border.chips.1.label'),\n    Brazil: t('Drawer.SideContent.border.chips.2.label'),\n    Regions: t('Drawer.SideContent.border.chips.3.label'),\n    States: t('Drawer.SideContent.border.chips.4.label'),\n  } as any;\n};\n\nexport const getLabelSelected = (state: State, t: any, type: ViewType) => {\n  if ([ViewType.ATTRIBUTE, ViewType.BACKGROUND].includes(type)) {\n    return getAttributesMapper(t)[state.currentAttribute];\n  }\n\n  if (ViewType.BORDER === type) {\n    return getBorderMapper(t)[state.currentBorder];\n  }\n\n  throw Error(`Label for type ${type} is undefined.`);\n};\n\nexport const getMapTitleEn = (state: State, t: any) => {\n  if (state.currentBorder === 'None') {\n    return null;\n  }\n\n  const scenarioMapper = getScenarioMapper(t);\n  const attributesMapper = getAttributesMapper(t);\n  const borderMapper = getBorderMapper(t);\n\n  const isDifference =\n    TimelineOption.DIFFERENCE === state.currentTimelineOption;\n\n  const borderPrefix = state.currentBorder === 'Brazil' ? 'in' : 'per';\n  const borderDescription =\n    state.currentBorder === 'None'\n      ? ''\n      : ` ${borderPrefix} ${borderMapper[state.currentBorder]}`;\n\n  const unitType = state.currentAttribute === 'CR Carbon' ? 'Stock' : 'Area';\n\n  let title = `${\n    attributesMapper[state.currentAttribute]\n  } ${unitType}${borderDescription} in Scenario ${\n    scenarioMapper[state.currentScenario]\n  } for ${state.currentYear}`;\n  if (isDifference) {\n    title = `Change of ${\n      attributesMapper[state.currentAttribute]\n    } ${unitType} from ${state.changeFromYear} to ${\n      state.currentYear\n    } ${borderPrefix} ${borderMapper[state.currentBorder]} in Scenario ${\n      scenarioMapper[state.currentScenario]\n    }`;\n  }\n\n  if (state.compareScenarioEnabled) {\n    title = `Change of ${\n      attributesMapper[state.currentAttribute]\n    } ${unitType} for Scenario ${\n      scenarioMapper[state.compareWithScenario]\n    } minus ${scenarioMapper[state.currentScenario]} in ${\n      state.currentYear\n    } ${borderPrefix} ${borderMapper[state.currentBorder]}`;\n  }\n\n  return title;\n};\n\nexport const getMapTitlePt = (state: State, t: any) => {\n  if (state.currentBorder === 'None') {\n    return null;\n  }\n\n  const scenarioMapper = getScenarioMapper(t);\n  const attributesMapper = getAttributesMapper(t);\n  const borderMapper = getBorderMapper(t);\n\n  const isDifference =\n    TimelineOption.DIFFERENCE === state.currentTimelineOption;\n\n  const borderPrefix = state.currentBorder === 'Brazil' ? 'no' : 'por';\n  const borderDescription =\n    state.currentBorder === 'None'\n      ? ''\n      : ` ${borderPrefix} ${borderMapper[state.currentBorder]}`;\n\n  const unitType = state.currentAttribute === 'CR Carbon' ? 'Estoque' : 'rea';\n\n  let title = `${unitType} de ${\n    attributesMapper[state.currentAttribute]\n  } ${borderDescription} no Cenrio ${\n    scenarioMapper[state.currentScenario]\n  } em ${state.currentYear}`;\n  if (isDifference) {\n    title = `Mudanas de ${unitType} de ${\n      attributesMapper[state.currentAttribute]\n    } de 2020  ${state.currentYear} ${borderPrefix} ${\n      borderMapper[state.currentBorder]\n    } no Cenrio ${scenarioMapper[state.currentScenario]}`;\n  }\n\n  if (state.compareScenarioEnabled) {\n    title = `Mudanas de ${unitType} de ${\n      attributesMapper[state.currentAttribute]\n    } no Cenrio ${scenarioMapper[state.compareWithScenario]} menos ${\n      scenarioMapper[state.currentScenario]\n    } em ${state.currentYear} ${borderPrefix} ${\n      borderMapper[state.currentBorder]\n    }`;\n  }\n\n  return title;\n};\n\n/**\n * https://stackoverflow.com/questions/9960908/permutations-in-javascript\n *\n * @param selected\n * @param inputArr\n * @returns\n */\nexport const permutator = (inputArr: string[]): string[][] => {\n  const result: string[][] = [];\n\n  const permute = (arr: string[], m: string[] = []) => {\n    if (arr.length === 0) {\n      result.push(m);\n    } else {\n      for (let i = 0; i < arr.length; i++) {\n        let curr = arr.slice();\n        let next = curr.splice(i, 1);\n        permute(curr.slice(), m.concat(next));\n      }\n    }\n  };\n\n  permute(inputArr);\n\n  return result;\n};\n","import { Typography } from '@material-ui/core';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Icon from '@material-ui/core/Icon';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport {\n  LegendValue,\n  MapPropsViewStyleValueType,\n  ViewStyleKeyValue,\n  ViewType,\n} from 'containers/Types';\nimport { formatNumberDefault } from 'core/utils';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { State, useTrackedState } from 'store';\nimport './style.scss';\nimport { getLabelSelected } from '../../store/utils';\n\ntype LegendProps = {\n  title?: string;\n  type: ViewType;\n  style: ViewStyleKeyValue;\n  hoverProperties?: string[];\n  onHover?: (name: string | null) => void;\n  onClick?: (name: string) => void;\n};\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: 272,\n      position: 'absolute',\n      right: '8px',\n      top: '70px',\n      zIndex: 1100,\n      [theme.breakpoints.down('xs')]: {\n        maxWidth: 180,\n        paddingBottom: 0,\n      },\n    },\n    legendBgBottom: {\n      width: 272,\n      position: 'absolute',\n      right: '8px',\n      top: '330px',\n      zIndex: 1100,\n      [theme.breakpoints.down('xs')]: {\n        maxWidth: 180,\n      },\n    },\n    legendBgTop: {\n      width: 272,\n      zIndex: 1100,\n      position: 'absolute',\n      right: '8px',\n      top: '70px',\n    },\n    legendBgMiddleBrazil: {\n      width: 272,\n      zIndex: 1100,\n      position: 'absolute',\n      right: '8px',\n      top: '153px',\n    },\n    legendBgMiddleRegions: {\n      width: 272,\n      zIndex: 1100,\n      position: 'absolute',\n      right: '8px',\n      top: '302px',\n    },\n    cardContentCustom: {\n      padding: 8,\n      '&:last-child': {\n        paddingBottom: '8px !important',\n      },\n    },\n    cardLongContentCustom: {\n      padding: 8,\n      overflow: 'auto',\n      height: '154px',\n      marginTop: '6px',\n      '&:last-child': {\n        paddingBottom: '8px !important',\n      },\n    },\n    cardHeader: {\n      padding: '8px 16px',\n      background: '#212121',\n      color: 'white',\n      textTransform: 'uppercase',\n      '& span': {\n        fontSize: '16px',\n        fontWeight: 'bold',\n        letterSpacing: '.03em',\n        [theme.breakpoints.down('xs')]: {\n          fontSize: '12px',\n        },\n      },\n    },\n    title: {\n      fontSize: 14,\n      display: 'flex',\n      justifyContent: 'center',\n      padding: '8px 0 0',\n      marginBottom: 0,\n    },\n  }),\n);\n\nfunction legendValuesFactory(\n  props: ViewStyleKeyValue,\n  t: any,\n  state: State,\n  type: ViewType,\n): LegendValue[] {\n  const values: LegendValue[] = [];\n\n  props.value.forEach((v) => {\n    let label = 'N/A';\n    let name = 'N/A';\n    const prefix = v.displayValuePrefix || '';\n    let suffix = v.displayValueSuffix || '';\n\n    if (ViewType.BACKGROUND === type) {\n      if (state.currentAttribute === 'CR Carbon') {\n        suffix = ' PgC';\n      }\n    }\n\n    if (MapPropsViewStyleValueType.ANY === props.type) {\n      label = t(`Legend.cardValues.${v.valueString!}`, {\n        defaultValue: v.valueString!,\n      });\n      name = v.valueString!;\n    } else if (MapPropsViewStyleValueType.STRING === props.type) {\n      label = t(`Legend.cardValues.${v.valueString!}`, {\n        defaultValue: v.valueString!,\n      });\n      name = v.valueString!;\n    } else if (MapPropsViewStyleValueType.NUMBER === props.type) {\n      label = `${prefix}${formatNumberDefault(v.valueNumber!)}${suffix}`;\n      name = label;\n    } else if (MapPropsViewStyleValueType.RANGE === props.type) {\n      if (v.valueRange!.start) {\n        label = `${prefix}${formatNumberDefault(\n          v.valueRange!.start,\n        )} - ${formatNumberDefault(v.valueRange!.end)}${suffix}`;\n      } else {\n        label = `>= ${formatNumberDefault(v.valueRange!.end)}${suffix}`;\n      }\n\n      name = label;\n    }\n\n    values.push({\n      icon: 'fiber_manual_record',\n      fillColor: v.style.fillColor,\n      label,\n      name,\n    });\n  });\n\n  return values;\n}\n\nconst Legend = React.forwardRef(\n  (\n    { title, type, style, hoverProperties, onHover, onClick }: LegendProps,\n    ref,\n  ) => {\n    const classes = useStyles();\n    const { t } = useTranslation();\n    const state = useTrackedState();\n\n    const [legendHoverProperties, setLegendHoverProperties] = React.useState<\n      string[] | undefined\n    >(hoverProperties);\n\n    const selectedRef = React.useRef<any>(null);\n\n    const values = legendValuesFactory(style, t, state, type);\n    const hasValues = !values || !values.length;\n\n    const handleClick = (value: LegendValue) => {\n      if (!onClick) {\n        return;\n      }\n\n      onClick(value.name);\n    };\n\n    const getCardClassName = () => {\n      if (ViewType.BORDER === type) {\n        return classes.root;\n      }\n\n      if (state.currentBorder === 'None') {\n        return classes.legendBgTop;\n      }\n\n      if (state.currentBorder === 'Brazil') {\n        return classes.legendBgMiddleBrazil;\n      }\n\n      if (state.currentBorder === 'Regions') {\n        return classes.legendBgMiddleRegions;\n      }\n\n      return classes.legendBgBottom;\n    };\n\n    const getContentClassName = () => {\n      if (ViewType.BORDER === type) {\n        if (state.currentBorder === 'States') {\n          return classes.cardLongContentCustom;\n        }\n      }\n\n      return classes.cardContentCustom;\n    };\n\n    const getTitle = () => {\n      if (\n        [ViewType.ATTRIBUTE, ViewType.BACKGROUND, ViewType.BORDER].includes(\n          type,\n        )\n      ) {\n        return getLabelSelected(state, t, type);\n      }\n\n      if (!title) {\n        const cardTitleType = t(`Legend.cardTitleType.${type}`);\n        return `${t('Legend.cardTitlePrefix')} ${cardTitleType}`;\n      }\n    };\n\n    const hoverItem = (name: string) => {\n      if (legendHoverProperties && legendHoverProperties.includes(name)) {\n        return true;\n      }\n\n      return false;\n    };\n\n    const getLegendContentClassName = (name: string) => {\n      if (hoverItem(name)) {\n        return 'Legend-content_hover ';\n      }\n\n      return 'Legend-content';\n    };\n\n    const getLegendContentRef = (name: string) => {\n      if (hoverItem(name)) {\n        return selectedRef;\n      }\n\n      return null;\n    };\n\n    const handleMouseHover = (value: LegendValue | null) => {\n      if (!onHover) {\n        return;\n      }\n\n      if (!value) {\n        onHover(null);\n        return;\n      }\n\n      onHover(value.name);\n    };\n\n    React.useImperativeHandle(ref, () => ({\n      setHover(name: string | null) {\n        let props = undefined;\n        if (name) {\n          props = [name];\n        }\n\n        setLegendHoverProperties(props);\n\n        if (selectedRef && selectedRef.current) {\n          selectedRef.current.scrollIntoView();\n        }\n      },\n    }));\n\n    return (\n      <div>\n        <Card className={getCardClassName()}>\n          <CardHeader className={classes.cardHeader} title={getTitle()} />\n          <CardContent className={getContentClassName()}>\n            {hasValues ? (\n              <Typography\n                className={classes.title}\n                color=\"textSecondary\"\n                gutterBottom\n              >\n                No layers selected\n              </Typography>\n            ) : (\n              <div className=\"Legend\">\n                {values.map((value: LegendValue) => (\n                  <div\n                    className={getLegendContentClassName(value.name)}\n                    key={value.label}\n                    ref={getLegendContentRef(value.name)}\n                    onClick={() => {\n                      handleClick(value);\n                    }}\n                    onMouseEnter={() => {\n                      handleMouseHover(value);\n                    }}\n                    onMouseLeave={() => {\n                      handleMouseHover(null);\n                    }}\n                  >\n                    <Icon style={{ color: value.fillColor }}>{value.icon}</Icon>\n                    <p className=\"Legend-text\">{value.label}</p>\n                  </div>\n                ))}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n    );\n  },\n);\n\nexport default React.memo(Legend);\n","import { State } from 'store';\nimport { permutator } from './utils';\n\nconst years = ['2020', '2030', '2040', '2050'];\n\nconst colsMap: any = {\n  'Natural Vegetation': 'natveg',\n  'Forest Regenerated': 'forreg',\n  'Planted Forest': 'pltfor',\n  Agriculture: 'cropland',\n  Pasture: 'pasture',\n  'CR Carbon': 'cr_carbon',\n};\n\nconst scenarioPropMap: any = {\n  idc2: 'idc2_dd',\n  fc: 'fcdd',\n  fcnocra: 'fcnocra_dd',\n  fcnosfa: 'fcnosfa',\n  fcnocranosfa: 'fcnocranosfa',\n};\n\nconst scenarioNameMap: any = {\n  idc2_dd: 'IDC2',\n  fcdd: 'FC',\n  fcnocra_dd: 'FCnoCRA',\n  fcnosfa: 'FCnoSFA',\n  fcnocranosfa: 'FCnoCRAnoSFA',\n};\n\nconst scenarioColorMap: any = {\n  none: 'rgba(117,117,117,1)',\n  idc2_dd: 'rgba(215,25,28,1)',\n  fcdd: 'rgba(253,174,97,1)',\n  fcnocra_dd: 'rgba(229,229,171,1)',\n  fcnosfa: 'rgba(171,221,164,1)',\n  fcnocranosfa: 'rgba(43,131,186,1)',\n};\n\nconst scenarioColorMapFriendly = {\n  NONE: 'rgba(117,117,117,1)',\n  IDC2: 'rgba(215,25,28,1)',\n  FC: 'rgba(253,174,97,1)',\n  FCnoCRA: 'rgba(229,229,171,1)',\n  FCnoSFA: 'rgba(171,221,164,1)',\n  FCnoCRAnoSFA: 'rgba(43,131,186,1)',\n};\n\nconst scenarioNameFriendly = {\n  IDC2: 'Baseline',\n  FC: 'FC',\n  FCnoCRA: 'FCnoCRA',\n  FCnoSFA: 'FCnoSFA',\n  FCnoCRAnoSFA: 'FCnoCRAnoSFA',\n};\n\nconst scenarioName = {\n  IDC2: 'IDC2',\n  FC: 'FC',\n  FCnoCRA: 'FCnoCRA',\n  FCnoSFA: 'FCnoSFA',\n  FCnoCRAnoSFA: 'FCnoCRAnoSFA',\n};\n\nconst scenariosFriendlyNames = Object.values(scenarioNameFriendly) as string[];\nconst scenariosShortNames = Object.keys(scenarioPropMap) as string[];\nconst scenariosNames = Object.values(scenarioPropMap) as string[];\nconst datasetAbbreviation = Object.values(colsMap) as string[];\nconst scenariosNamesUpper = Object.values(scenarioName) as string[];\nconst scenariosFriendlyNamesPermutation = permutator(scenariosFriendlyNames);\n\nconst containsAttribute = (attribute: string): boolean => {\n  return colsMap.hasOwnProperty(attribute);\n};\n\nconst containsCurrentAttribute = (state: State): boolean => {\n  return containsAttribute(state.currentAttribute);\n};\n\nconst getAttributeName = (attribute: string): string => {\n  return colsMap[attribute];\n};\n\nconst getScenarioName = (scenario: string): string => {\n  return scenarioPropMap[scenario.toLowerCase()];\n};\n\nconst getYear = (year: number) => {\n  return year.toString().slice(-2);\n};\n\nconst getFieldName = (\n  state: State,\n  scenarioName: string,\n  yearValue: number,\n): string => {\n  const scenario = getScenarioName(scenarioName);\n  const year = getYear(yearValue);\n  const attribute = getAttributeName(state.currentAttribute);\n  return `${scenario}_${attribute}${year}`.toLowerCase();\n};\n\nconst getFieldValue = (\n  state: State,\n  geoJsonProperties: any,\n  scenarioName: string,\n  yearValue: number,\n): number | undefined => {\n  let fieldName = getFieldName(state, scenarioName, yearValue);\n  let fieldValue = geoJsonProperties[fieldName];\n\n  if (!fieldValue) {\n    fieldName = fieldName.toLowerCase();\n    fieldValue = geoJsonProperties[fieldName];\n  }\n\n  return fieldValue;\n};\n\nconst getCurrentScenarioFieldValue = (\n  state: State,\n  geoJsonProperties: any,\n): number | undefined => {\n  return getFieldValue(\n    state,\n    geoJsonProperties,\n    state.currentScenario,\n    state.currentYear,\n  );\n};\n\nconst getCurrentScenarioDifferenceFieldValue = (\n  state: State,\n  geoJsonProperties: any,\n): number | undefined => {\n  return getFieldValue(\n    state,\n    geoJsonProperties,\n    state.currentScenario,\n    state.changeFromYear,\n  );\n};\n\nconst getCompareScenarioFieldValue = (\n  state: State,\n  geoJsonProperties: any,\n): number | undefined => {\n  return getFieldValue(\n    state,\n    geoJsonProperties,\n    state.compareWithScenario,\n    state.currentYear,\n  );\n};\n\nconst getScenarioMetadata = (t: any) => {\n  const labels = years;\n  const datasetNames = [\n    t('Drawer.SideContent.attribute.chips.0.name'),\n    t('Drawer.SideContent.attribute.chips.1.name'),\n    t('Drawer.SideContent.attribute.chips.2.name'),\n    t('Drawer.SideContent.attribute.chips.3.name'),\n    t('Drawer.SideContent.attribute.chips.4.name'),\n    t('Drawer.SideContent.attribute.chips.5.name'),\n  ];\n  const datasetLabels = [\n    t('Drawer.SideContent.attribute.chips.0.label'),\n    t('Drawer.SideContent.attribute.chips.1.label'),\n    t('Drawer.SideContent.attribute.chips.2.label'),\n    t('Drawer.SideContent.attribute.chips.3.label'),\n    t('Drawer.SideContent.attribute.chips.4.label'),\n    t('Drawer.SideContent.attribute.chips.5.label'),\n  ];\n  const datasetDescriptions = [\n    t('Drawer.SideContent.attribute.chips.0.description'),\n    t('Drawer.SideContent.attribute.chips.1.description'),\n    t('Drawer.SideContent.attribute.chips.2.description'),\n    t('Drawer.SideContent.attribute.chips.3.description'),\n    t('Drawer.SideContent.attribute.chips.4.description'),\n    t('Drawer.SideContent.attribute.chips.5.description'),\n  ];\n  return {\n    labels,\n    scenariosFriendlyNames: scenariosNamesUpper,\n    scenariosShortNames,\n    scenariosNames,\n    datasetAbbreviation,\n    datasetNames,\n    datasetLabels,\n    datasetDescriptions,\n  };\n};\n\nconst getScenarioData = (\n  datasetName: string,\n  datasets: { [name: string]: any },\n) => {\n  let property = datasets[datasetName];\n\n  if (!property) {\n    property = datasets[datasetName.toLowerCase()];\n  }\n\n  const labels = property[scenariosNames[0] as any].labels as string[];\n\n  const data: any = {\n    names: scenariosNames,\n    shortNames: scenariosShortNames,\n    friendlyNames: scenariosNamesUpper,\n    labels,\n  };\n\n  const scenariosDatasets: any = [];\n  scenariosNames.forEach((name: any) => {\n    scenariosDatasets.push({\n      data: property[name].data,\n      label: scenarioNameMap[name],\n      color: scenarioColorMap[name],\n    });\n  });\n\n  data.datasets = scenariosDatasets;\n\n  return data;\n};\n\nconst getScenarioSwitchText = (state: State) => {\n  const scenario1Name = scenariosNamesUpper[1];\n  const scenario2Name = scenariosNamesUpper[2];\n  const scenario3Name = scenariosNamesUpper[3];\n\n  if (state.currentScenario === scenario1Name) {\n    return { option1: scenario2Name, option2: scenario3Name };\n  }\n\n  if (state.currentScenario === scenario2Name) {\n    return { option1: scenario1Name, option2: scenario3Name };\n  }\n\n  return { option1: scenario1Name, option2: scenario2Name };\n};\n\nconst getSwitchOptions = (state: State): string[] => {\n  const currentScenarioLabel = (scenarioNameFriendly as any)[\n    state.currentScenario\n  ];\n  const values = scenariosFriendlyNamesPermutation.find(\n    (values: string[]) => values[0] === currentScenarioLabel,\n  );\n  if (!values) {\n    return [];\n  }\n  return values.slice(1);\n};\n\nconst getScenariosShip = () => {\n  return scenarioColorMapFriendly;\n};\n\nconst getScenarioNamesFriendly = () => {\n  return scenarioNameFriendly;\n};\n\nconst getScenarioNames = () => {\n  return scenarioName;\n};\n\nexport default {\n  containsCurrentAttribute,\n  getFieldValue,\n  getCurrentScenarioFieldValue,\n  getCurrentScenarioDifferenceFieldValue,\n  getCompareScenarioFieldValue,\n  getScenarioMetadata,\n  getScenarioData,\n  getScenarioSwitchText,\n  getSwitchOptions,\n  getScenariosShip,\n  getScenarioNamesFriendly,\n  getScenarioNames,\n};\n","import { createStyles, makeStyles } from '@material-ui/core';\nimport { TimelineOption, View } from 'containers/Types';\nimport { formatNumberDefault } from 'core/utils';\nimport { State } from 'store';\nimport mapper from 'store/mapper';\n\nconst scenariosColors = mapper.getScenariosShip();\nconst scenariosName = mapper.getScenarioNames();\nconst scenariosLabels = mapper.getScenarioNamesFriendly();\n\nconst scenario0Name = scenariosName.IDC2;\nconst scenario1Name = scenariosName.FC;\nconst scenario2Name = scenariosName.FCnoCRA;\nconst scenario3Name = scenariosName.FCnoSFA;\nconst scenario4Name = scenariosName.FCnoCRAnoSFA;\n\nconst scenario0Label = scenariosLabels.IDC2;\nconst scenario1Label = scenariosLabels.FC;\nconst scenario2Label = scenariosLabels.FCnoCRA;\nconst scenario3Label = scenariosLabels.FCnoSFA;\nconst scenario4Label = scenariosLabels.FCnoCRAnoSFA;\n\nconst compareColor = scenariosColors.NONE;\nconst scenario0Color = scenariosColors.IDC2;\nconst scenario1Color = scenariosColors.FC;\nconst scenario2Color = scenariosColors.FCnoCRA;\nconst scenario3Color = scenariosColors.FCnoSFA;\nconst scenario4Color = scenariosColors.FCnoCRAnoSFA;\n\nexport function datasetsFactory(\n  state: State,\n  properties: GeoJSON.GeoJsonProperties,\n  scenariosNames: string[],\n  validLabels: string[],\n  axis = 'vertical',\n) {\n  const datasets: any = {};\n  const isDifference =\n    TimelineOption.DIFFERENCE === state.currentTimelineOption;\n  const changeFromYear = state.changeFromYear;\n\n  for (const key in properties) {\n    let value = properties[key];\n    let name = key.toLowerCase();\n\n    const parts = name.split('_');\n    if (parts.length < 2) {\n      continue;\n    }\n\n    const partWithDateIndex = parts.length - 1;\n    const date = parts[partWithDateIndex].slice(-2).match(/\\d+/g)?.join('');\n\n    if (date) {\n      name = key.toLowerCase().replace(`${date}`, '');\n\n      scenariosNames.forEach((scenarioName: string) => {\n        const scenarioNameToCheck = `${scenarioName}_`;\n        if (name.startsWith(scenarioNameToCheck)) {\n          name = name.replace(scenarioNameToCheck, '');\n\n          if (!datasets.hasOwnProperty(name)) {\n            datasets[name] = {};\n          }\n\n          const scenario: any = datasets[name];\n          if (!scenario.hasOwnProperty(scenarioName)) {\n            scenario[scenarioName] = {\n              object: [],\n            };\n          }\n\n          if (isDifference) {\n            const baseAttributeName = key.replace(`${date}`, '');\n            const baseAttributeKey = `${baseAttributeName}${changeFromYear\n              .toString()\n              .slice(-2)}`;\n            const baseAttributeValue = properties[baseAttributeKey];\n\n            value = value - baseAttributeValue;\n          }\n\n          scenario[scenarioName].object.push({ x: `20${date}`, y: value });\n        }\n      });\n    }\n  }\n\n  for (const propertyName in datasets) {\n    const property = datasets[propertyName];\n\n    for (const scenarioName in property) {\n      const scenario = property[scenarioName];\n      const object = scenario.object as { x: any; y: any }[];\n\n      scenario.labels = [];\n      scenario.data = [];\n      validLabels.forEach((label: string) => {\n        const found = object.find((entry: { x: any; y: any }) =>\n          axis === 'vertical' ? entry.x === label : entry.y === label,\n        );\n        if (found) {\n          const data = axis === 'vertical' ? found.y : found.x;\n          scenario.labels.push(label);\n          scenario.data.push(data);\n        }\n      });\n    }\n  }\n\n  const attributeToFix = datasets.forreg;\n  if (attributeToFix) {\n    for (const scenarioToFix in attributeToFix) {\n      const props = attributeToFix[scenarioToFix];\n      props.labels.unshift('2020');\n      props.data.unshift(0);\n    }\n  }\n\n  return datasets;\n}\n\nexport function chartDataFactory(\n  state: State,\n  datasetName: string,\n  datasets: { [name: string]: any },\n) {\n  const scenarioData = mapper.getScenarioData(datasetName, datasets);\n  const labels = scenarioData.labels;\n  const scenario0Data = scenarioData.datasets[0].data;\n  const scenario1Data = scenarioData.datasets[1].data;\n  const scenario2Data = scenarioData.datasets[2].data;\n  const scenario3Data = scenarioData.datasets[3].data;\n  const scenario4Data = scenarioData.datasets[4].data;\n\n  if (state.compareScenarioEnabled) {\n    let baseArray = [];\n    let compareArray = [];\n    let newLabel = ``;\n\n    if (state.currentScenario === scenario0Name) {\n      baseArray = scenario0Data;\n\n      if (state.compareWithScenario === scenario1Name) {\n        compareArray = scenario1Data;\n        newLabel = `${scenario1Label} - ${scenario0Label}`;\n      }\n\n      if (state.compareWithScenario === scenario2Name) {\n        compareArray = scenario2Data;\n        newLabel = `${scenario2Label} - ${scenario0Label}`;\n      }\n\n      if (state.compareWithScenario === scenario3Name) {\n        compareArray = scenario3Data;\n        newLabel = `${scenario3Label} - ${scenario0Label}`;\n      }\n\n      if (state.compareWithScenario === scenario4Name) {\n        compareArray = scenario4Data;\n        newLabel = `${scenario4Label} - ${scenario0Name}`;\n      }\n    } else if (state.currentScenario === scenario1Name) {\n      baseArray = scenario1Data;\n\n      if (state.compareWithScenario === scenario0Name) {\n        compareArray = scenario0Data;\n        newLabel = `${scenario0Label} - ${scenario1Label}`;\n      }\n\n      if (state.compareWithScenario === scenario2Name) {\n        compareArray = scenario2Data;\n        newLabel = `${scenario2Label} - ${scenario1Label}`;\n      }\n\n      if (state.compareWithScenario === scenario3Name) {\n        compareArray = scenario3Data;\n        newLabel = `${scenario3Label} - ${scenario1Label}`;\n      }\n\n      if (state.compareWithScenario === scenario4Name) {\n        compareArray = scenario4Data;\n        newLabel = `${scenario4Label} - ${scenario1Label}`;\n      }\n    } else if (state.currentScenario === scenario2Name) {\n      baseArray = scenario2Data;\n\n      if (state.compareWithScenario === scenario0Name) {\n        compareArray = scenario0Data;\n        newLabel = `${scenario0Label} - ${scenario2Label}`;\n      }\n\n      if (state.compareWithScenario === scenario1Name) {\n        compareArray = scenario1Data;\n        newLabel = `${scenario1Label} - ${scenario2Label}`;\n      }\n\n      if (state.compareWithScenario === scenario3Name) {\n        compareArray = scenario3Data;\n        newLabel = `${scenario3Label} - ${scenario2Label}`;\n      }\n\n      if (state.compareWithScenario === scenario4Name) {\n        compareArray = scenario4Data;\n        newLabel = `${scenario4Label} - ${scenario2Label}`;\n      }\n    } else if (state.currentScenario === scenario3Name) {\n      baseArray = scenario3Data;\n\n      if (state.compareWithScenario === scenario0Name) {\n        compareArray = scenario0Data;\n        newLabel = `${scenario0Label} - ${scenario3Label}`;\n      }\n\n      if (state.compareWithScenario === scenario1Name) {\n        compareArray = scenario1Data;\n        newLabel = `${scenario1Label} - ${scenario3Label}`;\n      }\n\n      if (state.compareWithScenario === scenario2Name) {\n        compareArray = scenario2Data;\n        newLabel = `${scenario2Label} - ${scenario3Label}`;\n      }\n\n      if (state.compareWithScenario === scenario4Name) {\n        compareArray = scenario4Data;\n        newLabel = `${scenario4Label} - ${scenario3Label}`;\n      }\n    } else {\n      baseArray = scenario4Data;\n\n      if (state.compareWithScenario === scenario0Name) {\n        compareArray = scenario0Data;\n        newLabel = `${scenario0Label} - ${scenario4Name}`;\n      }\n\n      if (state.compareWithScenario === scenario1Name) {\n        compareArray = scenario1Data;\n        newLabel = `${scenario1Label} - ${scenario4Label}`;\n      }\n\n      if (state.compareWithScenario === scenario2Name) {\n        compareArray = scenario2Data;\n        newLabel = `${scenario2Label} - ${scenario4Label}`;\n      }\n\n      if (state.compareWithScenario === scenario3Name) {\n        compareArray = scenario3Data;\n        newLabel = `${scenario3Label} - ${scenario4Label}`;\n      }\n    }\n\n    const newArray: number[] = [];\n    for (let index = 0; index < baseArray.length; index++) {\n      const baseValue = Number(baseArray[index]);\n      const compareValue = Number(compareArray[index]);\n\n      const newValue = compareValue - baseValue;\n      newArray.push(newValue);\n    }\n\n    return {\n      labels,\n      datasets: [\n        {\n          label: newLabel,\n          fill: false,\n          lineTension: 0.1,\n          backgroundColor: compareColor,\n          borderColor: compareColor,\n          borderCapStyle: 'butt',\n          borderDash: [],\n          borderDashOffset: 0.0,\n          borderJoinStyle: 'miter',\n          pointBorderColor: compareColor,\n          pointBackgroundColor: compareColor,\n          pointBorderWidth: 1,\n          pointHoverRadius: 5,\n          pointHoverBackgroundColor: compareColor,\n          pointHoverBorderColor: compareColor,\n          pointHoverBorderWidth: 2,\n          pointRadius: 1,\n          pointHitRadius: 10,\n          data: newArray,\n        },\n      ],\n    };\n  }\n\n  return {\n    labels,\n    datasets: [\n      {\n        label: scenario0Label,\n        fill: false,\n        lineTension: 0.1,\n        backgroundColor: scenario0Color,\n        borderColor: scenario0Color,\n        borderCapStyle: 'butt',\n        borderDash: [],\n        borderDashOffset: 0.0,\n        borderJoinStyle: 'miter',\n        pointBorderColor: scenario0Color,\n        pointBackgroundColor: scenario0Color,\n        pointBorderWidth: 1,\n        pointHoverRadius: 5,\n        pointHoverBackgroundColor: scenario0Color,\n        pointHoverBorderColor: scenario0Color,\n        pointHoverBorderWidth: 2,\n        pointRadius: 1,\n        pointHitRadius: 10,\n        data: scenario0Data,\n      },\n      {\n        label: scenario1Label,\n        fill: false,\n        lineTension: 0.1,\n        backgroundColor: scenario1Color,\n        borderColor: scenario1Color,\n        borderCapStyle: 'butt',\n        borderDash: [],\n        borderDashOffset: 0.0,\n        borderJoinStyle: 'miter',\n        pointBorderColor: scenario1Color,\n        pointBackgroundColor: scenario1Color,\n        pointBorderWidth: 1,\n        pointHoverRadius: 5,\n        pointHoverBackgroundColor: scenario1Color,\n        pointHoverBorderColor: scenario1Color,\n        pointHoverBorderWidth: 2,\n        pointRadius: 1,\n        pointHitRadius: 10,\n        data: scenario1Data,\n      },\n      {\n        label: scenario2Label,\n        fill: false,\n        lineTension: 0.1,\n        backgroundColor: scenario2Color,\n        borderColor: scenario2Color,\n        borderCapStyle: 'butt',\n        borderDash: [],\n        borderDashOffset: 0.0,\n        borderJoinStyle: 'miter',\n        pointBorderColor: scenario2Color,\n        pointBackgroundColor: scenario2Color,\n        pointBorderWidth: 1,\n        pointHoverRadius: 5,\n        pointHoverBackgroundColor: scenario2Color,\n        pointHoverBorderColor: scenario2Color,\n        pointHoverBorderWidth: 2,\n        pointRadius: 1,\n        pointHitRadius: 10,\n        data: scenario2Data,\n      },\n      {\n        label: scenario3Label,\n        fill: false,\n        lineTension: 0.1,\n        backgroundColor: scenario3Color,\n        borderColor: scenario3Color,\n        borderCapStyle: 'butt',\n        borderDash: [],\n        borderDashOffset: 0.0,\n        borderJoinStyle: 'miter',\n        pointBorderColor: scenario3Color,\n        pointBackgroundColor: scenario3Color,\n        pointBorderWidth: 1,\n        pointHoverRadius: 5,\n        pointHoverBackgroundColor: scenario3Color,\n        pointHoverBorderColor: scenario3Color,\n        pointHoverBorderWidth: 2,\n        pointRadius: 1,\n        pointHitRadius: 10,\n        data: scenario3Data,\n      },\n      {\n        label: scenario4Label,\n        fill: false,\n        lineTension: 0.1,\n        backgroundColor: scenario4Color,\n        borderColor: scenario4Color,\n        borderCapStyle: 'butt',\n        borderDash: [],\n        borderDashOffset: 0.0,\n        borderJoinStyle: 'miter',\n        pointBorderColor: scenario4Color,\n        pointBackgroundColor: scenario4Color,\n        pointBorderWidth: 1,\n        pointHoverRadius: 5,\n        pointHoverBackgroundColor: scenario4Color,\n        pointHoverBorderColor: scenario4Color,\n        pointHoverBorderWidth: 2,\n        pointRadius: 1,\n        pointHitRadius: 10,\n        data: scenario4Data,\n      },\n    ],\n  };\n}\n\nexport function chartOptionsFactory(state: State, t: any) {\n  let prefix = 'Area';\n  let unity = 'Mha';\n  let denominator = 1000;\n  if (state.currentAttribute === 'CR Carbon') {\n    prefix = 'Stock';\n    unity = 'PgC';\n    denominator = 1000000;\n  }\n\n  return {\n    scales: {\n      xAxes: [\n        {\n          scaleLabel: {\n            display: true,\n            labelString: t('ReportAllBiomes.chart.labelX'),\n          },\n        },\n      ],\n      yAxes: [\n        {\n          scaleLabel: {\n            display: true,\n            labelString: `${prefix} (${unity})`,\n          },\n          ticks: {\n            callback: function (value: number) {\n              return `${formatNumberDefault(value / denominator)}`;\n            },\n          },\n        },\n      ],\n    },\n    tooltips: {\n      mode: 'label',\n      callbacks: {\n        label: function (tooltipItem: any, data: any) {\n          const defaultLabel =\n            data.datasets[tooltipItem.datasetIndex].label || '';\n          const label = t(`Legend.cardValues.${defaultLabel}`, {\n            defaultValue: defaultLabel,\n          });\n\n          const value = formatNumberDefault(tooltipItem.yLabel / denominator);\n          return `${label}: ${value}`;\n        },\n      },\n    },\n    legend: {\n      labels: {\n        fontSize: 14,\n        padding: 20,\n      },\n    },\n  };\n}\n\nexport function getStyles() {\n  return makeStyles(() =>\n    createStyles({\n      buttonDefault: {\n        backgroundColor: '#24806F',\n        color: '#ffffff',\n        '&:hover': {\n          backgroundColor: '#24806F',\n        },\n      },\n    }),\n  )();\n}\n\nexport function createCharts(\n  state: State,\n  t: any,\n  properties: GeoJSON.GeoJsonProperties | undefined,\n) {\n  const charts: any = [];\n  if (!properties) {\n    return charts;\n  }\n\n  const info = mapper.getScenarioMetadata(t);\n\n  const datasets = datasetsFactory(\n    state,\n    properties,\n    info.scenariosNames,\n    info.labels,\n  );\n  info.datasetAbbreviation.forEach((selectedName: string, index: number) => {\n    const name = info.datasetNames[index];\n\n    if (state.currentAttribute && name === state.currentAttribute) {\n      const label = info.datasetLabels[index];\n      const description = info.datasetDescriptions[index];\n\n      charts.push({\n        name,\n        label,\n        description,\n        data: chartDataFactory(state, selectedName, datasets),\n        options: chartOptionsFactory(state, t),\n      });\n    }\n  });\n\n  return charts;\n}\n\nexport function createChartsAllBiomes(state: State, t: any, view: View) {\n  const lines: any = [];\n\n  const info = mapper.getScenarioMetadata(t);\n  let chartLabel = '';\n  let chartDescription = '';\n\n  const data = view!.data;\n  const features = (data as any).features as any[];\n  features.forEach((feature: GeoJSON.Feature) => {\n    const datasets = datasetsFactory(\n      state,\n      feature.properties,\n      info.scenariosNames,\n      info.labels,\n    );\n    info.datasetAbbreviation.forEach((selectedName: string, index: number) => {\n      const name = info.datasetNames[index];\n\n      if (name === state.currentAttribute) {\n        const attributeLabel = info.datasetLabels[index];\n        const description = info.datasetDescriptions[index];\n\n        const featureName = (feature.properties as any).nm;\n        const featureLabel = t(`Legend.cardValues.${featureName}`, {\n          defaultValue: featureName,\n        });\n\n        chartLabel = attributeLabel;\n        chartDescription = description;\n\n        const scenarioData = mapper.getScenarioData(selectedName, datasets);\n        const scenario0Data = scenarioData.datasets[0].data;\n        const scenario1Data = scenarioData.datasets[1].data;\n        const scenario2Data = scenarioData.datasets[2].data;\n        const scenario3Data = scenarioData.datasets[3].data;\n        const scenario4Data = scenarioData.datasets[4].data;\n\n        lines.push({\n          featureName,\n          featureLabel,\n          attributeName: name,\n          attributeLabel,\n          attributeDescription: description,\n          scenario0Data,\n          scenario1Data,\n          scenario2Data,\n          scenario3Data,\n          scenario4Data,\n        });\n      }\n    });\n  });\n\n  const chartDatasets: any = [];\n  lines.forEach((line: any) => {\n    if (state.compareScenarioEnabled) {\n      const compareColor = getFeatureColor(\n        line.featureName,\n        view!.style!.value!,\n      );\n\n      let baseArray = [];\n      let compareArray = [];\n\n      const scenario0Data = line.scenario0Data;\n      const scenario1Data = line.scenario1Data;\n      const scenario2Data = line.scenario2Data;\n      const scenario3Data = line.scenario3Data;\n      const scenario4Data = line.scenario4Data;\n\n      if (state.currentScenario === scenario0Name) {\n        baseArray = scenario0Data;\n\n        if (state.compareWithScenario === scenario1Name) {\n          compareArray = scenario1Data;\n        }\n\n        if (state.compareWithScenario === scenario2Name) {\n          compareArray = scenario2Data;\n        }\n\n        if (state.compareWithScenario === scenario3Name) {\n          compareArray = scenario3Data;\n        }\n\n        if (state.compareWithScenario === scenario4Name) {\n          compareArray = scenario4Data;\n        }\n      } else if (state.currentScenario === scenario1Name) {\n        baseArray = scenario1Data;\n\n        if (state.compareWithScenario === scenario0Name) {\n          compareArray = scenario0Data;\n        }\n\n        if (state.compareWithScenario === scenario2Name) {\n          compareArray = scenario2Data;\n        }\n\n        if (state.compareWithScenario === scenario3Name) {\n          compareArray = scenario3Data;\n        }\n\n        if (state.compareWithScenario === scenario4Name) {\n          compareArray = scenario4Data;\n        }\n      } else if (state.currentScenario === scenario2Name) {\n        baseArray = scenario2Data;\n\n        if (state.compareWithScenario === scenario0Name) {\n          compareArray = scenario0Data;\n        }\n\n        if (state.compareWithScenario === scenario1Name) {\n          compareArray = scenario1Data;\n        }\n\n        if (state.compareWithScenario === scenario3Name) {\n          compareArray = scenario3Data;\n        }\n\n        if (state.compareWithScenario === scenario4Name) {\n          compareArray = scenario4Data;\n        }\n      } else if (state.currentScenario === scenario3Name) {\n        baseArray = scenario3Data;\n\n        if (state.compareWithScenario === scenario0Name) {\n          compareArray = scenario0Data;\n        }\n\n        if (state.compareWithScenario === scenario1Name) {\n          compareArray = scenario1Data;\n        }\n\n        if (state.compareWithScenario === scenario2Name) {\n          compareArray = scenario2Data;\n        }\n\n        if (state.compareWithScenario === scenario4Name) {\n          compareArray = scenario4Data;\n        }\n      } else {\n        baseArray = scenario4Data;\n\n        if (state.compareWithScenario === scenario0Name) {\n          compareArray = scenario0Data;\n        }\n\n        if (state.compareWithScenario === scenario1Name) {\n          compareArray = scenario1Data;\n        }\n\n        if (state.compareWithScenario === scenario2Name) {\n          compareArray = scenario2Data;\n        }\n\n        if (state.compareWithScenario === scenario3Name) {\n          compareArray = scenario3Data;\n        }\n      }\n\n      const newArray: number[] = [];\n      for (let index = 0; index < baseArray.length; index++) {\n        const baseValue = Number(baseArray[index]);\n        const compareValue = Number(compareArray[index]);\n\n        const newValue = compareValue - baseValue;\n        newArray.push(newValue);\n      }\n\n      chartDatasets.push({\n        label: `${line.featureLabel}`,\n        fill: false,\n        lineTension: 0.1,\n        backgroundColor: compareColor,\n        borderColor: compareColor,\n        borderCapStyle: 'butt',\n        borderDash: [],\n        borderDashOffset: 0.0,\n        borderJoinStyle: 'miter',\n        pointBorderColor: compareColor,\n        pointBackgroundColor: compareColor,\n        pointBorderWidth: 1,\n        pointHoverRadius: 5,\n        pointHoverBackgroundColor: compareColor,\n        pointHoverBorderColor: compareColor,\n        pointHoverBorderWidth: 2,\n        pointRadius: 1,\n        pointHitRadius: 10,\n        data: newArray,\n      });\n    } else if (state.currentScenario === scenario0Name) {\n      const scenario0Color = getFeatureColor(\n        line.featureName,\n        view!.style!.value!,\n      );\n\n      chartDatasets.push({\n        label: `${line.featureLabel}`,\n        fill: false,\n        lineTension: 0.1,\n        backgroundColor: scenario0Color,\n        borderColor: scenario0Color,\n        borderCapStyle: 'butt',\n        borderDash: [],\n        borderDashOffset: 0.0,\n        borderJoinStyle: 'miter',\n        pointBorderColor: scenario0Color,\n        pointBackgroundColor: scenario0Color,\n        pointBorderWidth: 1,\n        pointHoverRadius: 5,\n        pointHoverBackgroundColor: scenario0Color,\n        pointHoverBorderColor: scenario0Color,\n        pointHoverBorderWidth: 2,\n        pointRadius: 1,\n        pointHitRadius: 10,\n        data: line.scenario0Data,\n      });\n    } else if (state.currentScenario === scenario1Name) {\n      const scenario1Color = getFeatureColor(\n        line.featureName,\n        view!.style!.value!,\n      );\n\n      chartDatasets.push({\n        label: `${line.featureLabel}`,\n        fill: false,\n        lineTension: 0.1,\n        backgroundColor: scenario1Color,\n        borderColor: scenario1Color,\n        borderCapStyle: 'butt',\n        borderDash: [],\n        borderDashOffset: 0.0,\n        borderJoinStyle: 'miter',\n        pointBorderColor: scenario1Color,\n        pointBackgroundColor: scenario1Color,\n        pointBorderWidth: 1,\n        pointHoverRadius: 5,\n        pointHoverBackgroundColor: scenario1Color,\n        pointHoverBorderColor: scenario1Color,\n        pointHoverBorderWidth: 2,\n        pointRadius: 1,\n        pointHitRadius: 10,\n        data: line.scenario1Data,\n      });\n    } else if (state.currentScenario === scenario2Name) {\n      const scenario2Color = getFeatureColor(\n        line.featureName,\n        view!.style!.value!,\n      );\n\n      chartDatasets.push({\n        label: `${line.featureLabel}`,\n        fill: false,\n        lineTension: 0.1,\n        backgroundColor: scenario2Color,\n        borderColor: scenario2Color,\n        borderCapStyle: 'butt',\n        borderDash: [],\n        borderDashOffset: 0.0,\n        borderJoinStyle: 'miter',\n        pointBorderColor: scenario2Color,\n        pointBackgroundColor: scenario2Color,\n        pointBorderWidth: 1,\n        pointHoverRadius: 5,\n        pointHoverBackgroundColor: scenario2Color,\n        pointHoverBorderColor: scenario2Color,\n        pointHoverBorderWidth: 2,\n        pointRadius: 1,\n        pointHitRadius: 10,\n        data: line.scenario2Data,\n      });\n    } else if (state.currentScenario === scenario3Name) {\n      const scenario3Color = getFeatureColor(\n        line.featureName,\n        view!.style!.value!,\n      );\n\n      chartDatasets.push({\n        label: `${line.featureLabel}`,\n        fill: false,\n        lineTension: 0.1,\n        backgroundColor: scenario3Color,\n        borderColor: scenario3Color,\n        borderCapStyle: 'butt',\n        borderDash: [],\n        borderDashOffset: 0.0,\n        borderJoinStyle: 'miter',\n        pointBorderColor: scenario3Color,\n        pointBackgroundColor: scenario3Color,\n        pointBorderWidth: 1,\n        pointHoverRadius: 5,\n        pointHoverBackgroundColor: scenario3Color,\n        pointHoverBorderColor: scenario3Color,\n        pointHoverBorderWidth: 2,\n        pointRadius: 1,\n        pointHitRadius: 10,\n        data: line.scenario3Data,\n      });\n    } else {\n      const scenario4Color = getFeatureColor(\n        line.featureName,\n        view!.style!.value!,\n      );\n\n      chartDatasets.push({\n        label: `${line.featureLabel}`,\n        fill: false,\n        lineTension: 0.1,\n        backgroundColor: scenario4Color,\n        borderColor: scenario4Color,\n        borderCapStyle: 'butt',\n        borderDash: [],\n        borderDashOffset: 0.0,\n        borderJoinStyle: 'miter',\n        pointBorderColor: scenario4Color,\n        pointBackgroundColor: scenario4Color,\n        pointBorderWidth: 1,\n        pointHoverRadius: 5,\n        pointHoverBackgroundColor: scenario4Color,\n        pointHoverBorderColor: scenario4Color,\n        pointHoverBorderWidth: 2,\n        pointRadius: 1,\n        pointHitRadius: 10,\n        data: line.scenario4Data,\n      });\n    }\n  });\n\n  return {\n    label: chartLabel,\n    description: chartDescription,\n    data: {\n      labels: info.labels,\n      datasets: chartDatasets,\n    },\n    options: chartOptionsFactory(state, t),\n  };\n}\n\nfunction getRandomColor() {\n  return '#' + (((1 << 24) * Math.random()) | 0).toString(16);\n}\n\nfunction getFeatureColor(featureName: string, style: any[]) {\n  const found = style.find((s: any) => s.valueString === featureName);\n  if (found) {\n    return found.style.fillColor;\n  }\n\n  return getRandomColor();\n}\n","import React from 'react';\n\nimport Button from '@material-ui/core/Button';\nimport Dialog, { DialogProps } from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport { Line } from 'react-chartjs-2';\nimport Typography from '@material-ui/core/Typography';\n\nimport { useTranslation } from 'react-i18next';\nimport { useTrackedState } from 'store';\nimport { getStyles, createCharts } from './report.utils';\n\ntype ReportProps = {\n  open: boolean;\n  properties?: GeoJSON.GeoJsonProperties;\n  onClose: () => void;\n};\n\nfunction Report({ open, properties, onClose }: ReportProps) {\n  const classes = getStyles();\n  const [scroll] = React.useState<DialogProps['scroll']>('paper');\n  const descriptionElementRef = React.useRef<HTMLElement>(null);\n  const { t } = useTranslation();\n  const state = useTrackedState();\n\n  const charts: any = createCharts(state, t, properties);\n\n  React.useEffect(() => {\n    if (open) {\n      const { current: descriptionElement } = descriptionElementRef;\n      if (descriptionElement !== null) {\n        descriptionElement.focus();\n      }\n    }\n  }, [open]);\n\n  const dialogTitle = t(`Legend.cardValues.${properties?.nm}`, {\n    defaultValue: properties?.nm,\n  });\n\n  return (\n    <Dialog\n      fullWidth={true}\n      maxWidth={'sm'}\n      open={open}\n      onClose={onClose}\n      scroll={scroll}\n      aria-labelledby=\"scroll-dialog-title\"\n      aria-describedby=\"scroll-dialog-description\"\n    >\n      <DialogTitle id=\"scroll-dialog-title\">{dialogTitle}</DialogTitle>\n      <DialogContent dividers={scroll === 'paper'}>\n        {charts.map(\n          (entry: {\n            name: string;\n            label: string;\n            description: string;\n            data: any;\n            options: any;\n          }) => {\n            return (\n              <div key={entry.name}>\n                <Typography\n                  id=\"alert-dialog-title\"\n                  variant=\"h6\"\n                  gutterBottom\n                  align=\"justify\"\n                >\n                  {entry.label}\n                </Typography>\n                <Typography variant=\"caption\" display=\"block\" gutterBottom>\n                  {entry.description}\n                </Typography>\n                <Line data={entry.data} options={entry.options} />\n              </div>\n            );\n          },\n        )}\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={onClose} className={classes.buttonDefault}>\n          {t('ReportAllBiomes.buttonClose')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nexport default React.memo(Report);\n","import React from 'react';\n\nimport Button from '@material-ui/core/Button';\nimport Dialog, { DialogProps } from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport { Line } from 'react-chartjs-2';\nimport Typography from '@material-ui/core/Typography';\n\nimport { useTranslation } from 'react-i18next';\nimport { useTrackedState } from 'store';\nimport { getStyles, createChartsAllBiomes } from './report.utils';\nimport { View } from 'containers/Types';\n\ntype ReportAllBiomesProps = {\n  open: boolean;\n  view: View;\n  onClose: () => void;\n};\n\nfunction ReportAllBiomes({ open, view, onClose }: ReportAllBiomesProps) {\n  const classes = getStyles();\n  const [scroll] = React.useState<DialogProps['scroll']>('paper');\n  const descriptionElementRef = React.useRef<HTMLElement>(null);\n  const { t } = useTranslation();\n  const state = useTrackedState();\n\n  const chart: any = createChartsAllBiomes(state, t, view);\n\n  React.useEffect(() => {\n    if (open) {\n      const { current: descriptionElement } = descriptionElementRef;\n      if (descriptionElement !== null) {\n        descriptionElement.focus();\n      }\n    }\n  }, [open]);\n\n  return (\n    <Dialog\n      fullWidth={true}\n      maxWidth={'sm'}\n      open={open}\n      onClose={onClose}\n      scroll={scroll}\n      aria-labelledby=\"scroll-dialog-title\"\n      aria-describedby=\"scroll-dialog-description\"\n    >\n      <DialogTitle id=\"scroll-dialog-title\">\n        {t('ReportAllBiomes.title')}\n      </DialogTitle>\n      <DialogContent dividers={scroll === 'paper'}>\n        <div>\n          <Typography\n            id=\"alert-dialog-title\"\n            variant=\"h6\"\n            gutterBottom\n            align=\"justify\"\n          >\n            {chart.label}\n          </Typography>\n          <Typography variant=\"caption\" display=\"block\" gutterBottom>\n            {chart.description}\n          </Typography>\n          <Line data={chart.data} options={chart.options} />\n        </div>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={onClose} className={classes.buttonDefault}>\n          {t('ReportAllBiomes.buttonClose')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nexport default React.memo(ReportAllBiomes);\n","import {\n  Button,\n  Card,\n  Icon,\n  IconButton,\n  Menu,\n  MenuItem,\n  Typography,\n} from '@material-ui/core';\nimport Slider from '@material-ui/core/Slider';\nimport {\n  createStyles,\n  makeStyles,\n  Theme,\n  withStyles,\n} from '@material-ui/core/styles';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport { TimelineOption } from 'containers/Types';\nimport debounce from 'lodash.debounce';\nimport React from 'react';\nimport { useDispatch, useTrackedState } from 'store';\nimport mapper from 'store/mapper';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: '100%',\n      position: 'fixed',\n      zIndex: 1198,\n      display: 'flex',\n      bottom: '16px',\n      justifyContent: 'center',\n      right: '40px',\n      [theme.breakpoints.down('xs')]: {\n        width: '100%',\n        left: 0,\n        bottom: 0,\n        zIndex: 1200,\n        right: 0,\n      },\n    },\n    slider: {\n      width: 500 + theme.spacing(3) * 2,\n      display: 'block',\n      background: '#fff',\n      padding: '8px 26px 0',\n      position: 'relative',\n      left: '40px',\n      [theme.breakpoints.down('xs')]: {\n        left: 0,\n      },\n    },\n    content: {\n      display: 'flex',\n      alignItems: 'center',\n    },\n    icon: {\n      marginRight: '24px',\n    },\n    margin: {\n      height: theme.spacing(3),\n    },\n  }),\n);\n\nconst thumbShadow =\n  '0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)';\n\nconst defaultMarks = [\n  {\n    value: 0,\n    label: '2020',\n  },\n  {\n    value: 33,\n    label: '2030',\n  },\n  {\n    value: 66,\n    label: '2040',\n  },\n  {\n    value: 100,\n    label: '2050',\n  },\n];\n\nconst createTemporalSlider = (\n  barColor: string,\n  buttonColor: string,\n  trackHeight: number,\n) => {\n  return React.memo(\n    withStyles({\n      root: {\n        color: barColor,\n        height: 2,\n        padding: '16px 0',\n      },\n      thumb: {\n        height: 24,\n        width: 24,\n        backgroundColor: buttonColor,\n        boxShadow: thumbShadow,\n        marginTop: -12,\n        marginLeft: -12,\n        '&:focus, &:hover, &$active': {\n          boxShadow:\n            '0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3),0 0 0 1px rgba(0,0,0,0.02)',\n          // Reset on touch devices, it doesn't add specificity\n          '@media (hover: none)': {\n            boxShadow: thumbShadow,\n          },\n        },\n      },\n      active: {},\n      valueLabel: {\n        left: 'calc(-50% + 12px)',\n        top: -18,\n        '& *': {\n          background: 'transparent',\n          color: '#000',\n        },\n      },\n      track: {\n        height: trackHeight,\n      },\n      rail: {\n        height: 2,\n        opacity: 0.5,\n        backgroundColor: '#bfbfbf',\n      },\n      mark: {\n        backgroundColor: '#bfbfbf',\n        height: 8,\n        width: 1,\n        marginTop: -3,\n      },\n      markActive: {\n        opacity: 1,\n        backgroundColor: 'currentColor',\n      },\n    })(Slider),\n  );\n};\n\n// TODO bug #38 Com funcoes genericas lendo as cores do state, nao e possivel\n// deslocar a barra do tempo mais do que 1 ano por vez.\nconst colors = mapper.getScenariosShip();\n\nconst TemporalSliderScenarioIDC2Difference = createTemporalSlider(\n  colors.IDC2,\n  colors.IDC2,\n  3,\n);\nconst TemporalSliderScenarioIDC2Absolute = createTemporalSlider(\n  colors.NONE,\n  colors.IDC2,\n  0,\n);\n\nconst TemporalSliderScenarioFCDifference = createTemporalSlider(\n  colors.FC,\n  colors.FC,\n  3,\n);\nconst TemporalSliderScenarioFCAbsolute = createTemporalSlider(\n  colors.NONE,\n  colors.FC,\n  0,\n);\nconst TemporalSliderScenarioFCnoCRADifference = createTemporalSlider(\n  colors.FCnoCRA,\n  colors.FCnoCRA,\n  3,\n);\nconst TemporalSliderScenarioFCnoCRAAbsolute = createTemporalSlider(\n  colors.NONE,\n  colors.FCnoCRA,\n  0,\n);\n\nconst TemporalSliderScenarioFCnoSFADifference = createTemporalSlider(\n  colors.FCnoSFA,\n  colors.FCnoSFA,\n  3,\n);\nconst TemporalSliderScenarioFCnoSFAAbsolute = createTemporalSlider(\n  colors.NONE,\n  colors.FCnoSFA,\n  0,\n);\n\nconst TemporalSliderScenarioFCnoCRAnoSFADifference = createTemporalSlider(\n  colors.FCnoCRAnoSFA,\n  colors.FCnoCRAnoSFA,\n  3,\n);\nconst TemporalSliderScenarioFCnoCRAnoSFAAbsolute = createTemporalSlider(\n  colors.NONE,\n  colors.FCnoCRAnoSFA,\n  0,\n);\n\nconst TemporalSliderCompareScenario = createTemporalSlider(\n  colors.NONE,\n  colors.NONE,\n  0,\n);\n\nfunction Temporal() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const state = useTrackedState();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const [sliderValue, setSliderValue] = React.useState<number | number[]>(0);\n  const [buttonDisabled, setButtonDisabled] = React.useState<boolean>(false);\n\n  const validYears = [2020];\n  const [selectedYear, setSelectedYear] = React.useState<number>(validYears[0]);\n  const [marks, setMarks] = React.useState<{ value: number; label: string }[]>(\n    defaultMarks,\n  );\n\n  const upperNames = mapper.getScenarioNames();\n\n  const getScenarioComponent = (): JSX.Element => {\n    if (state.compareScenarioEnabled) {\n      return (\n        <TemporalSliderCompareScenario\n          aria-label=\"slider\"\n          value={sliderValue}\n          step={null}\n          marks={marks}\n          valueLabelDisplay=\"off\"\n          disabled={buttonDisabled}\n          onChange={handleChangeSlider}\n        />\n      );\n    }\n\n    if (TimelineOption.DIFFERENCE === state.currentTimelineOption) {\n      if (state.currentScenario === upperNames.IDC2) {\n        return (\n          <TemporalSliderScenarioIDC2Difference\n            aria-label=\"slider\"\n            value={sliderValue}\n            step={null}\n            marks={marks}\n            valueLabelDisplay=\"off\"\n            disabled={buttonDisabled}\n            onChange={handleChangeSlider}\n          />\n        );\n      } else if (state.currentScenario === upperNames.FC) {\n        return (\n          <TemporalSliderScenarioFCDifference\n            aria-label=\"slider\"\n            value={sliderValue}\n            step={null}\n            marks={marks}\n            valueLabelDisplay=\"off\"\n            disabled={buttonDisabled}\n            onChange={handleChangeSlider}\n          />\n        );\n      } else if (state.currentScenario === upperNames.FCnoCRA) {\n        return (\n          <TemporalSliderScenarioFCnoCRADifference\n            aria-label=\"slider\"\n            value={sliderValue}\n            step={null}\n            marks={marks}\n            valueLabelDisplay=\"off\"\n            disabled={buttonDisabled}\n            onChange={handleChangeSlider}\n          />\n        );\n      } else if (state.currentScenario === upperNames.FCnoSFA) {\n        return (\n          <TemporalSliderScenarioFCnoSFADifference\n            aria-label=\"slider\"\n            value={sliderValue}\n            step={null}\n            marks={marks}\n            valueLabelDisplay=\"off\"\n            disabled={buttonDisabled}\n            onChange={handleChangeSlider}\n          />\n        );\n      }\n\n      return (\n        <TemporalSliderScenarioFCnoCRAnoSFADifference\n          aria-label=\"slider\"\n          value={sliderValue}\n          step={null}\n          marks={marks}\n          valueLabelDisplay=\"off\"\n          disabled={buttonDisabled}\n          onChange={handleChangeSlider}\n        />\n      );\n    }\n\n    if (state.currentScenario === upperNames.IDC2) {\n      return (\n        <TemporalSliderScenarioIDC2Absolute\n          aria-label=\"slider\"\n          value={sliderValue}\n          step={null}\n          marks={marks}\n          valueLabelDisplay=\"off\"\n          disabled={buttonDisabled}\n          onChange={handleChangeSlider}\n        />\n      );\n    } else if (state.currentScenario === upperNames.FC) {\n      return (\n        <TemporalSliderScenarioFCAbsolute\n          aria-label=\"slider\"\n          value={sliderValue}\n          step={null}\n          marks={marks}\n          valueLabelDisplay=\"off\"\n          disabled={buttonDisabled}\n          onChange={handleChangeSlider}\n        />\n      );\n    } else if (state.currentScenario === upperNames.FCnoCRA) {\n      return (\n        <TemporalSliderScenarioFCnoCRAAbsolute\n          aria-label=\"slider\"\n          value={sliderValue}\n          step={null}\n          marks={marks}\n          valueLabelDisplay=\"off\"\n          disabled={buttonDisabled}\n          onChange={handleChangeSlider}\n        />\n      );\n    } else if (state.currentScenario === upperNames.FCnoSFA) {\n      return (\n        <TemporalSliderScenarioFCnoSFAAbsolute\n          aria-label=\"slider\"\n          value={sliderValue}\n          step={null}\n          marks={marks}\n          valueLabelDisplay=\"off\"\n          disabled={buttonDisabled}\n          onChange={handleChangeSlider}\n        />\n      );\n    }\n\n    return (\n      <TemporalSliderScenarioFCnoCRAnoSFAAbsolute\n        aria-label=\"slider\"\n        value={sliderValue}\n        step={null}\n        marks={marks}\n        valueLabelDisplay=\"off\"\n        disabled={buttonDisabled}\n        onChange={handleChangeSlider}\n      />\n    );\n  };\n\n  const handleClickPlay = () => {\n    setButtonDisabled(true);\n\n    const indexMark = marks.findIndex((mark) => mark.value === sliderValue);\n    if (indexMark > -1) {\n      let index = 0;\n\n      const sliderEvent = { timeline: true };\n      handleChangeSlider(sliderEvent, 0);\n\n      const timelineInterval = setInterval(() => {\n        const position = marks[index];\n        handleChangeSlider(sliderEvent, position.value);\n\n        index++;\n        if (index > indexMark) {\n          clearInterval(timelineInterval);\n          setButtonDisabled(false);\n        }\n      }, 500);\n    }\n  };\n\n  const handleChangeSlider = (\n    event: any,\n    newSliderValue: number | number[],\n  ) => {\n    if ((event && event.timeline) || sliderValue !== newSliderValue) {\n      setSliderValue(newSliderValue);\n\n      const debounceSlider = debounce(() => {\n        const mark = marks.find((mark) => mark.value === newSliderValue);\n        if (mark) {\n          dispatch({ type: 'SET_CURRENT_YEAR', year: Number(mark.label) });\n        }\n      }, 300);\n\n      debounceSlider();\n    }\n  };\n\n  const handleClickMenuYears = (event: any) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleCloseMenuYears = (year: number) => {\n    setSelectedYear(year);\n\n    const newMarks = defaultMarks.filter((mark) => Number(mark.label) >= year);\n    setSliderValue(newMarks[0].value);\n    setMarks(newMarks);\n\n    dispatch({ type: 'SET_CHANGE_FROM_YEAR', year: Number(year) });\n    setAnchorEl(null);\n  };\n\n  const getDifferenceButton = () => {\n    if (\n      TimelineOption.ABSOLUTE === state.currentTimelineOption ||\n      validYears.length === 1\n    ) {\n      return <div></div>;\n    }\n\n    return (\n      <div>\n        <Button\n          aria-controls=\"simple-menu\"\n          aria-haspopup=\"true\"\n          onClick={handleClickMenuYears}\n        >\n          {selectedYear}\n          <Icon style={{ marginLeft: 8 }}>keyboard_arrow_down</Icon>\n        </Button>\n        <Menu\n          id=\"simple-menu\"\n          anchorEl={anchorEl}\n          keepMounted\n          open={Boolean(anchorEl)}\n          onClose={handleCloseMenuYears}\n        >\n          {validYears.map((year: number) => (\n            <MenuItem\n              key={year}\n              onClick={() => {\n                handleCloseMenuYears(year);\n              }}\n            >\n              {year}\n            </MenuItem>\n          ))}\n        </Menu>\n      </div>\n    );\n  };\n\n  return (\n    <div className={classes.root}>\n      <Card className={classes.slider}>\n        <Typography gutterBottom></Typography>\n\n        <div className={classes.content}>\n          {getDifferenceButton()}\n          <IconButton\n            aria-label=\"play\"\n            className={classes.icon}\n            disabled={buttonDisabled}\n            onClick={handleClickPlay}\n          >\n            <PlayArrowIcon />\n          </IconButton>\n\n          {getScenarioComponent()}\n        </div>\n      </Card>\n    </div>\n  );\n}\n\nexport default React.memo(Temporal);\n","import axios, { AxiosError, AxiosResponse } from 'axios';\nimport {\n  MapPropsViewStyle,\n  MapPropsViewStyleValueType,\n  View,\n  ViewType,\n} from 'containers/Types';\nimport geobuf from 'geobuf';\nimport Pbf from 'pbf';\n\nexport const defaultViewStyleProps: MapPropsViewStyle = {\n  color: '#1f2021',\n  weight: 1,\n  fillOpacity: 0.5,\n  fillColor: '#c8c9cb',\n};\n\nclass Service {\n  public readonly cache: any = {\n    labels: {\n      biomes: null,\n      brazil: null,\n      regions: null,\n      states: null,\n    },\n    lines: {\n      biomes: null,\n      brazil: null,\n      regions: null,\n      states: null,\n    },\n    attributes: {\n      biomes: null,\n    },\n    borders: {\n      biomes: null,\n      brazil: null,\n      regions: null,\n      states: null,\n    },\n  };\n\n  public getScenarios(t: any): Promise<View[]> {\n    return new Promise((resolve: any) => {\n      const views = [\n        {\n          name: t('Drawer.SideContent.scenario.chips.0.name'),\n          label: t('Drawer.SideContent.scenario.chips.0.label'),\n          type: ViewType.SCENARIO,\n          description: t('Drawer.SideContent.scenario.chips.0.description'),\n          visible: true,\n        },\n        {\n          name: t('Drawer.SideContent.scenario.chips.1.name'),\n          label: t('Drawer.SideContent.scenario.chips.1.label'),\n          type: ViewType.SCENARIO,\n          description: t('Drawer.SideContent.scenario.chips.1.description'),\n          visible: false,\n        },\n        {\n          name: t('Drawer.SideContent.scenario.chips.2.name'),\n          label: t('Drawer.SideContent.scenario.chips.2.label'),\n          type: ViewType.SCENARIO,\n          description: t('Drawer.SideContent.scenario.chips.2.description'),\n          visible: false,\n        },\n        {\n          name: t('Drawer.SideContent.scenario.chips.3.name'),\n          label: t('Drawer.SideContent.scenario.chips.3.label'),\n          type: ViewType.SCENARIO,\n          description: t('Drawer.SideContent.scenario.chips.3.description'),\n          visible: false,\n        },\n        {\n          name: t('Drawer.SideContent.scenario.chips.4.name'),\n          label: t('Drawer.SideContent.scenario.chips.4.label'),\n          type: ViewType.SCENARIO,\n          description: t('Drawer.SideContent.scenario.chips.4.description'),\n          visible: false,\n        },\n      ];\n\n      resolve(views);\n    });\n  }\n\n  public getAttributesBiomes(t: any): Promise<View[]> {\n    return new Promise((resolve: any) => {\n      if (this.cache.attributes.biomes) {\n        resolve(this.cache.attributes.biomes);\n      } else {\n        axios\n          .get('./data/biomes-labels.pbf', {\n            responseType: 'arraybuffer',\n          })\n          .then((response: AxiosResponse) => {\n            const geojson = geobuf.decode(new Pbf(response.data));\n            this.cache.labels.biomes = geojson as GeoJSON.GeoJsonObject;\n\n            const views = [\n              {\n                name: t('Drawer.SideContent.attribute.chips.0.name'),\n                label: t('Drawer.SideContent.attribute.chips.0.label'),\n                type: ViewType.ATTRIBUTE,\n                description: t(\n                  'Drawer.SideContent.attribute.chips.0.description',\n                ),\n                visible: true,\n                data: this.cache.labels.biomes,\n              },\n              {\n                name: t('Drawer.SideContent.attribute.chips.1.name'),\n                label: t('Drawer.SideContent.attribute.chips.1.label'),\n                type: ViewType.ATTRIBUTE,\n                description: t(\n                  'Drawer.SideContent.attribute.chips.1.description',\n                ),\n                visible: false,\n                data: this.cache.labels.biomes,\n              },\n              {\n                name: t('Drawer.SideContent.attribute.chips.2.name'),\n                label: t('Drawer.SideContent.attribute.chips.2.label'),\n                type: ViewType.ATTRIBUTE,\n                description: t(\n                  'Drawer.SideContent.attribute.chips.2.description',\n                ),\n                visible: false,\n                data: this.cache.labels.biomes,\n              },\n              {\n                name: t('Drawer.SideContent.attribute.chips.3.name'),\n                label: t('Drawer.SideContent.attribute.chips.3.label'),\n                type: ViewType.ATTRIBUTE,\n                description: t(\n                  'Drawer.SideContent.attribute.chips.3.description',\n                ),\n                visible: false,\n                data: this.cache.labels.biomes,\n              },\n              {\n                name: t('Drawer.SideContent.attribute.chips.4.name'),\n                label: t('Drawer.SideContent.attribute.chips.4.label'),\n                type: ViewType.ATTRIBUTE,\n                description: t(\n                  'Drawer.SideContent.attribute.chips.4.description',\n                ),\n                visible: false,\n                data: this.cache.labels.biomes,\n              },\n              {\n                name: t('Drawer.SideContent.attribute.chips.5.name'),\n                label: t('Drawer.SideContent.attribute.chips.5.label'),\n                type: ViewType.ATTRIBUTE,\n                description: t(\n                  'Drawer.SideContent.attribute.chips.5.description',\n                ),\n                visible: false,\n                data: this.cache.labels.biomes,\n              },\n            ];\n\n            this.cache.attributes.biomes = views;\n            resolve(views);\n          })\n          .catch((error: AxiosError) => {\n            console.log(error);\n          });\n      }\n    });\n  }\n\n  public getLabelsBrazil(): Promise<View[]> {\n    return new Promise((resolve: any) => {\n      if (this.cache.labels.brazil) {\n        resolve(this.cache.labels.brazil);\n      } else {\n        axios\n          .get('./data/brazil-labels.pbf', {\n            responseType: 'arraybuffer',\n          })\n          .then((response: AxiosResponse) => {\n            const geojson = geobuf.decode(new Pbf(response.data));\n            this.cache.labels.brazil = geojson as GeoJSON.GeoJsonObject;\n            resolve(this.cache.labels.brazil);\n          })\n          .catch((error: AxiosError) => {\n            console.log(error);\n          });\n      }\n    });\n  }\n\n  public getLabelsRegions(): Promise<View[]> {\n    return new Promise((resolve: any) => {\n      if (this.cache.labels.regions) {\n        resolve(this.cache.labels.regions);\n      } else {\n        axios\n          .get('./data/regions-labels.pbf', {\n            responseType: 'arraybuffer',\n          })\n          .then((response: AxiosResponse) => {\n            const geojson = geobuf.decode(new Pbf(response.data));\n            this.cache.labels.regions = geojson as GeoJSON.GeoJsonObject;\n            resolve(this.cache.labels.regions);\n          })\n          .catch((error: AxiosError) => {\n            console.log(error);\n          });\n      }\n    });\n  }\n\n  public getLabelsStates(): Promise<View[]> {\n    return new Promise((resolve: any) => {\n      if (this.cache.labels.states) {\n        resolve(this.cache.labels.states);\n      } else {\n        axios\n          .get('./data/states-labels.pbf', {\n            responseType: 'arraybuffer',\n          })\n          .then((response: AxiosResponse) => {\n            const geojson = geobuf.decode(new Pbf(response.data));\n            this.cache.labels.states = geojson as GeoJSON.GeoJsonObject;\n            resolve(this.cache.labels.states);\n          })\n          .catch((error: AxiosError) => {\n            console.log(error);\n          });\n      }\n    });\n  }\n\n  public getLinesStates(): Promise<View[]> {\n    return new Promise((resolve: any) => {\n      if (this.cache.lines.states) {\n        resolve(this.cache.lines.states);\n      } else {\n        axios\n          .get('./data/states-labels-lines.pbf', {\n            responseType: 'arraybuffer',\n          })\n          .then((response: AxiosResponse) => {\n            const geojson = geobuf.decode(new Pbf(response.data));\n            this.cache.lines.states = geojson as GeoJSON.GeoJsonObject;\n            resolve(this.cache.lines.states);\n          })\n          .catch((error: AxiosError) => {\n            console.log(error);\n          });\n      }\n    });\n  }\n\n  // public getBordersNone(t: any): Promise<View[]> {\n  //   return new Promise((resolve: any) => {\n  //     const views = [\n  //       {\n  //         name: t('Drawer.SideContent.border.chips.0.name'),\n  //         label: t('Drawer.SideContent.border.chips.0.label'),\n  //         type: ViewType.BORDER,\n  //         description: t('Drawer.SideContent.border.chips.0.description'),\n  //         visible: false,\n  //       },\n  //     ];\n  //\n  //     resolve(views);\n  //   });\n  // }\n\n  public getBordersBiomes(t: any): Promise<View[]> {\n    return new Promise((resolve: any) => {\n      if (this.cache.borders.biomes) {\n        resolve(this.cache.borders.biomes);\n      } else {\n        axios\n          .get('./data/biomes.pbf', { responseType: 'arraybuffer' })\n          .then((response: AxiosResponse) => {\n            const geojson = geobuf.decode(new Pbf(response.data));\n            const biomes = geojson;\n\n            const views = [\n              {\n                name: t('Drawer.SideContent.border.chips.1.name'),\n                label: t('Drawer.SideContent.border.chips.1.label'),\n                type: ViewType.BORDER,\n                description: t('Drawer.SideContent.border.chips.1.description'),\n                visible: true,\n                data: biomes as GeoJSON.GeoJsonObject,\n                style: {\n                  type: MapPropsViewStyleValueType.STRING,\n                  key: 'nm',\n                  value: [\n                    {\n                      valueString: 'Mata Atlntica',\n                      style: {\n                        color: defaultViewStyleProps.color,\n                        weight: defaultViewStyleProps.weight,\n                        fillOpacity: defaultViewStyleProps.fillOpacity,\n                        fillColor: '#d7fcae',\n                      },\n                    },\n                    {\n                      valueString: 'Pampa',\n                      style: {\n                        color: defaultViewStyleProps.color,\n                        weight: defaultViewStyleProps.weight,\n                        fillOpacity: defaultViewStyleProps.fillOpacity,\n                        fillColor: '#fcefd4',\n                      },\n                    },\n                    {\n                      valueString: 'Pantanal',\n                      style: {\n                        color: defaultViewStyleProps.color,\n                        weight: defaultViewStyleProps.weight,\n                        fillOpacity: defaultViewStyleProps.fillOpacity,\n                        fillColor: '#ffe7ff',\n                      },\n                    },\n                    {\n                      valueString: 'Amaznia',\n                      style: {\n                        color: defaultViewStyleProps.color,\n                        weight: defaultViewStyleProps.weight,\n                        fillOpacity: defaultViewStyleProps.fillOpacity,\n                        fillColor: '#b2ff1b',\n                      },\n                    },\n                    {\n                      valueString: 'Caatinga',\n                      style: {\n                        color: defaultViewStyleProps.color,\n                        weight: defaultViewStyleProps.weight,\n                        fillOpacity: defaultViewStyleProps.fillOpacity,\n                        fillColor: '#feffb1',\n                      },\n                    },\n                    {\n                      valueString: 'Cerrado',\n                      style: {\n                        color: defaultViewStyleProps.color,\n                        weight: defaultViewStyleProps.weight,\n                        fillOpacity: defaultViewStyleProps.fillOpacity,\n                        fillColor: '#ffc6b2',\n                      },\n                    },\n                  ],\n                },\n              },\n            ];\n\n            this.cache.borders.biomes = views;\n            resolve(views);\n          })\n          .catch((error: AxiosError) => {\n            console.log(error);\n          });\n      }\n    });\n  }\n\n  public getBordersBrazil(t: any): Promise<View[]> {\n    return new Promise((resolve: any) => {\n      if (this.cache.borders.brazil) {\n        resolve(this.cache.borders.brazil);\n      } else {\n        axios\n          .get('./data/brazil.pbf', { responseType: 'arraybuffer' })\n          .then((response: AxiosResponse) => {\n            const geojson = geobuf.decode(new Pbf(response.data));\n            const brazil = geojson;\n\n            const views = [\n              {\n                name: t('Drawer.SideContent.border.chips.2.name'),\n                label: t('Drawer.SideContent.border.chips.2.label'),\n                type: ViewType.BORDER,\n                description: t('Drawer.SideContent.border.chips.2.description'),\n                visible: false,\n                data: brazil as GeoJSON.GeoJsonObject,\n                style: {\n                  type: MapPropsViewStyleValueType.ANY,\n                  key: MapPropsViewStyleValueType.ANY,\n                  value: [\n                    {\n                      valueString: 'Brazil',\n                      style: {\n                        color: defaultViewStyleProps.color,\n                        weight: 2,\n                        fillOpacity: 0.001,\n                        fillColor: '#336f28',\n                      },\n                    },\n                  ],\n                },\n              },\n            ];\n\n            this.cache.borders.brazil = views;\n            resolve(views);\n          })\n          .catch((error: AxiosError) => {\n            console.log(error);\n          });\n      }\n    });\n  }\n\n  public getBordersRegions(t: any): Promise<View[]> {\n    return new Promise((resolve: any) => {\n      if (this.cache.borders.regions) {\n        resolve(this.cache.borders.regions);\n      } else {\n        axios\n          .get('./data/regions.pbf', { responseType: 'arraybuffer' })\n          .then((response: AxiosResponse) => {\n            const geojson = geobuf.decode(new Pbf(response.data));\n            const regions = geojson;\n\n            const views = [\n              {\n                name: t('Drawer.SideContent.border.chips.3.name'),\n                label: t('Drawer.SideContent.border.chips.3.label'),\n                type: ViewType.BORDER,\n                description: t('Drawer.SideContent.border.chips.3.description'),\n                visible: false,\n                data: regions as GeoJSON.GeoJsonObject,\n                style: {\n                  type: MapPropsViewStyleValueType.STRING,\n                  key: 'nm',\n                  value: [\n                    {\n                      valueString: 'Norte',\n                      style: {\n                        color: defaultViewStyleProps.color,\n                        weight: defaultViewStyleProps.weight,\n                        fillOpacity: defaultViewStyleProps.fillOpacity,\n                        fillColor: '#7fc97f',\n                      },\n                    },\n                    {\n                      valueString: 'Nordeste',\n                      style: {\n                        color: defaultViewStyleProps.color,\n                        weight: defaultViewStyleProps.weight,\n                        fillOpacity: defaultViewStyleProps.fillOpacity,\n                        fillColor: '#fdc086',\n                      },\n                    },\n                    {\n                      valueString: 'Centro-Oeste',\n                      style: {\n                        color: defaultViewStyleProps.color,\n                        weight: defaultViewStyleProps.weight,\n                        fillOpacity: defaultViewStyleProps.fillOpacity,\n                        fillColor: '#beaed4',\n                      },\n                    },\n                    {\n                      valueString: 'Sul',\n                      style: {\n                        color: defaultViewStyleProps.color,\n                        weight: defaultViewStyleProps.weight,\n                        fillOpacity: defaultViewStyleProps.fillOpacity,\n                        fillColor: '#ffff99',\n                      },\n                    },\n                    {\n                      valueString: 'Sudeste',\n                      style: {\n                        color: defaultViewStyleProps.color,\n                        weight: defaultViewStyleProps.weight,\n                        fillOpacity: defaultViewStyleProps.fillOpacity,\n                        fillColor: '#386cb0',\n                      },\n                    },\n                  ],\n                },\n              },\n            ];\n\n            this.cache.borders.regions = views;\n            resolve(views);\n          })\n          .catch((error: AxiosError) => {\n            console.log(error);\n          });\n      }\n    });\n  }\n\n  public getBordersStates(t: any): Promise<View[]> {\n    return new Promise((resolve: any) => {\n      if (this.cache.borders.states) {\n        resolve(this.cache.borders.states);\n      } else {\n        axios\n          .get('./data/states.pbf', { responseType: 'arraybuffer' })\n          .then((response: AxiosResponse) => {\n            const geojson = geobuf.decode(new Pbf(response.data));\n\n            const brazilStates = geojson;\n            const brazilStateColors = [\n              '#399283',\n              '#a20655',\n              '#79eb99',\n              '#2c457d',\n              '#c7dd91',\n              '#72359b',\n              '#54d7eb',\n              '#255026',\n              '#ffb4a2',\n              '#863c2c',\n              '#8fec2f',\n              '#7212ff',\n              '#769d31',\n              '#f996f1',\n              '#21a708',\n              '#c00018',\n              '#abc8f5',\n              '#3986da',\n              '#fa41c7',\n              '#d9dc22',\n              '#fe707d',\n              '#fea53b',\n              '#848484',\n              '#646B63',\n              '#3F888F',\n              '#ED760E',\n              '#924E7D',\n            ];\n            const brazilStatesNames = [\n              'Acre',\n              'Alagoas',\n              'Amap',\n              'Amazonas',\n              'Bahia',\n              'Cear',\n              'Distrito Federal',\n              'Esprito Santo',\n              'Gois',\n              'Maranho',\n              'Mato Grosso',\n              'Mato Grosso do Sul',\n              'Minas Gerais',\n              'Par',\n              'Paraba',\n              'Paran',\n              'Pernambuco',\n              'Piau',\n              'Rio de Janeiro',\n              'Rio Grande do Norte',\n              'Rio Grande do Sul',\n              'Rondnia',\n              'Roraima',\n              'Santa Catarina',\n              'So Paulo',\n              'Sergipe',\n              'Tocantins',\n            ];\n\n            const brazilStatesStyles = brazilStateColors.map(\n              (hexColor: string, i) => {\n                const stateName = brazilStatesNames[i];\n\n                return {\n                  valueString: stateName,\n                  style: {\n                    color: defaultViewStyleProps.color,\n                    weight: defaultViewStyleProps.weight,\n                    fillOpacity: defaultViewStyleProps.fillOpacity,\n                    fillColor: hexColor,\n                  },\n                };\n              },\n            );\n\n            const views = [\n              {\n                name: t('Drawer.SideContent.border.chips.4.name'),\n                label: t('Drawer.SideContent.border.chips.4.label'),\n                type: ViewType.BORDER,\n                description: t('Drawer.SideContent.border.chips.4.description'),\n                visible: false,\n                data: brazilStates as GeoJSON.GeoJsonObject,\n                style: {\n                  type: MapPropsViewStyleValueType.STRING,\n                  key: 'nm',\n                  value: brazilStatesStyles,\n                },\n              },\n            ];\n\n            this.cache.borders.states = views;\n            resolve(views);\n          })\n          .catch((error: AxiosError) => {\n            console.log(error);\n          });\n      }\n    });\n  }\n\n  public getBackgrounds(t: any): Promise<View[]> {\n    return new Promise((resolve: any) => {\n      const createStyle = (factor = 1, denominator = 1000, suffix = 'Mha') => {\n        return {\n          type: MapPropsViewStyleValueType.RANGE,\n          key: 'band',\n          value: [\n            {\n              valueRange: {\n                start: '0.00',\n                end: (1.22 * (1 / 9) * 100 * factor) / denominator,\n              },\n              displayValueSuffix: ` ${suffix}`,\n              style: {\n                color: defaultViewStyleProps.color,\n                weight: defaultViewStyleProps.weight,\n                fillOpacity: defaultViewStyleProps.fillOpacity,\n                fillColor: '#ffffe5',\n              },\n            },\n            {\n              valueRange: {\n                start: (1.22 * (1 / 9) * 100 * factor) / denominator,\n                end: (1.22 * (2 / 9) * 100 * factor) / denominator,\n              },\n              displayValueSuffix: ` ${suffix}`,\n              style: {\n                color: defaultViewStyleProps.color,\n                weight: defaultViewStyleProps.weight,\n                fillOpacity: defaultViewStyleProps.fillOpacity,\n                fillColor: '#f7fcb9',\n              },\n            },\n            {\n              valueRange: {\n                start: (1.22 * (2 / 9) * 100 * factor) / denominator,\n                end: (1.22 * (3 / 9) * 100 * factor) / denominator,\n              },\n              displayValueSuffix: ` ${suffix}`,\n              style: {\n                color: defaultViewStyleProps.color,\n                weight: defaultViewStyleProps.weight,\n                fillOpacity: defaultViewStyleProps.fillOpacity,\n                fillColor: '#d9f0a3',\n              },\n            },\n            {\n              valueRange: {\n                start: (1.22 * (3 / 9) * 100 * factor) / denominator,\n                end: (1.22 * (4 / 9) * 100 * factor) / denominator,\n              },\n              displayValueSuffix: ` ${suffix}`,\n              style: {\n                color: defaultViewStyleProps.color,\n                weight: defaultViewStyleProps.weight,\n                fillOpacity: defaultViewStyleProps.fillOpacity,\n                fillColor: '#addd8e',\n              },\n            },\n            {\n              valueRange: {\n                start: (1.22 * (4 / 9) * 100 * factor) / denominator,\n                end: (1.22 * (5 / 9) * 100 * factor) / denominator,\n              },\n              displayValueSuffix: ` ${suffix}`,\n              style: {\n                color: defaultViewStyleProps.color,\n                weight: defaultViewStyleProps.weight,\n                fillOpacity: defaultViewStyleProps.fillOpacity,\n                fillColor: '#78c679',\n              },\n            },\n            {\n              valueRange: {\n                start: (1.22 * (5 / 9) * 100 * factor) / denominator,\n                end: (1.22 * (6 / 9) * 100 * factor) / denominator,\n              },\n              displayValueSuffix: ` ${suffix}`,\n              style: {\n                color: defaultViewStyleProps.color,\n                weight: defaultViewStyleProps.weight,\n                fillOpacity: defaultViewStyleProps.fillOpacity,\n                fillColor: '#41ab5d',\n              },\n            },\n            {\n              valueRange: {\n                start: (1.22 * (6 / 9) * 100 * factor) / denominator,\n                end: (1.22 * (7 / 9) * 100 * factor) / denominator,\n              },\n              displayValueSuffix: ` ${suffix}`,\n              style: {\n                color: defaultViewStyleProps.color,\n                weight: defaultViewStyleProps.weight,\n                fillOpacity: defaultViewStyleProps.fillOpacity,\n                fillColor: '#238443',\n              },\n            },\n            {\n              valueRange: {\n                start: (1.22 * (7 / 9) * 100 * factor) / denominator,\n                end: (1.22 * (8 / 9) * 100 * factor) / denominator,\n              },\n              displayValueSuffix: ` ${suffix}`,\n              style: {\n                color: defaultViewStyleProps.color,\n                weight: defaultViewStyleProps.weight,\n                fillOpacity: defaultViewStyleProps.fillOpacity,\n                fillColor: '#006837',\n              },\n            },\n            {\n              valueRange: {\n                start: (1.22 * (8 / 9) * 100 * factor) / denominator,\n                end: (1.22 * 100 * factor) / denominator,\n              },\n              displayValueSuffix: ` ${suffix}`,\n              style: {\n                color: defaultViewStyleProps.color,\n                weight: defaultViewStyleProps.weight,\n                fillOpacity: defaultViewStyleProps.fillOpacity,\n                fillColor: '#004529',\n              },\n            },\n          ],\n        };\n      };\n\n      const resolution1x1km = t('Drawer.SideContent.background.chips.1.name');\n      const resolution50x50km = t('Drawer.SideContent.background.chips.2.name');\n\n      const views: any = [\n        {\n          name: t('Drawer.SideContent.background.chips.0.name'),\n          label: t('Drawer.SideContent.background.chips.0.label'),\n          type: ViewType.BACKGROUND,\n          description: t('Drawer.SideContent.background.chips.0.description'),\n          visible: false,\n        },\n        {\n          name: resolution1x1km,\n          label: t('Drawer.SideContent.background.chips.1.label'),\n          type: ViewType.BACKGROUND,\n          description: t('Drawer.SideContent.background.chips.1.description'),\n          visible: false,\n          url: `${process.env.REACT_APP_TILES_BASE_URL}/{scenario}/{attribute}/${resolution1x1km}/{year}/{z}/{x}/{y}.png`,\n          style: createStyle(),\n        },\n        {\n          name: resolution50x50km,\n          label: t('Drawer.SideContent.background.chips.2.label'),\n          type: ViewType.BACKGROUND,\n          description: t('Drawer.SideContent.background.chips.2.description'),\n          visible: true,\n          url: `${process.env.REACT_APP_TILES_BASE_URL}/{scenario}/{attribute}/${resolution50x50km}/{year}/{z}/{x}/{y}.png`,\n          style: createStyle(2500),\n        },\n      ];\n\n      resolve(views);\n    });\n  }\n}\n\nexport const FeatureService = new Service();\n","import L from 'leaflet';\n\nconst iconEquals = new L.Icon({\n  iconUrl: require('../../assets/img/8x8-00000000.png'),\n  iconSize: [8, 8],\n  iconAnchor: [4, 0],\n});\n\nexport { iconEquals };\n","import { Button, createStyles, makeStyles, Theme } from '@material-ui/core';\nimport Legend from 'components/Legend';\nimport Report from 'components/Report';\nimport ReportAllBiomes from 'components/Report/ReportAllBiomes';\nimport Temporal from 'components/Temporal';\nimport {\n  MapPropsViewStyleValueType,\n  TimelineOption,\n  View,\n  ViewType,\n} from 'containers/Types';\nimport { createObjectId, formatNumberDefault } from 'core/utils';\nimport L, { Layer } from 'leaflet';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { GeoJSON, Map, Marker, TileLayer, Tooltip } from 'react-leaflet';\nimport { useDispatch, useTrackedState } from 'store';\nimport { filter, filterByName } from 'store/utils';\nimport mapper from 'store/mapper';\nimport { defaultViewStyleProps, FeatureService } from './feature.service';\nimport { iconEquals } from './icons';\nimport './Legend.scss';\n\nconst getBaseViewGraphAllBtn = (theme: Theme, top: number) => {\n  return {\n    position: 'absolute',\n    top: top,\n    zIndex: 1100,\n    right: 8,\n    background: '#fff',\n    width: 272,\n    borderRadius: 4,\n    boxShadow: '1px 1px 2px #424242',\n    padding: 10,\n    display: 'flex',\n    justifyContent: 'center',\n    [theme.breakpoints.down('xs')]: {\n      maxWidth: 180,\n    },\n  } as any;\n};\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    viewGraphAllBiomesBtn: getBaseViewGraphAllBtn(theme, 273),\n    viewGraphAllRegionsBtn: getBaseViewGraphAllBtn(theme, 248),\n    viewGraphAllStatesBtn: getBaseViewGraphAllBtn(theme, 273),\n    btnCustom: {\n      borderRadius: 50,\n      textTransform: 'none',\n      [theme.breakpoints.down('xs')]: {\n        zoom: '0.7',\n      },\n    },\n    tooltipFC: {\n      backgroundColor: '#2196f3',\n      borderColor: '#2196f3',\n      color: '#fff',\n      marginLeft: '-8px',\n    },\n    tooltipNoFC: {\n      backgroundColor: '#A6A6A6',\n      borderColor: '#A6A6A6',\n      color: '#fff',\n      marginLeft: '-8px',\n    },\n  }),\n);\n\nfunction geoJSONStyle(view: View) {\n  const style = view!.style;\n\n  return function (feature?: GeoJSON.Feature) {\n    let newStyle = { ...defaultViewStyleProps };\n    if (!feature) {\n      return newStyle;\n    }\n\n    if (style) {\n      if (MapPropsViewStyleValueType.ANY === style.type) {\n        if (style.value && style.value.length) {\n          newStyle = style.value[0].style;\n        }\n      } else {\n        const properties = feature.properties as any;\n\n        if (properties.hasOwnProperty(style.key)) {\n          const propertyValue = properties[style.key];\n\n          if (MapPropsViewStyleValueType.STRING === style.type) {\n            const propertyStyleFound = style.value.find(\n              (v) => v.valueString === propertyValue,\n            );\n            if (propertyStyleFound) {\n              newStyle = propertyStyleFound.style;\n            }\n          } else if (MapPropsViewStyleValueType.NUMBER === style.type) {\n            const propertyStyleFound = style.value.find(\n              (v) => v.valueNumber === propertyValue,\n            );\n            if (propertyStyleFound) {\n              newStyle = propertyStyleFound.style;\n            }\n          } else if (MapPropsViewStyleValueType.RANGE === style.type) {\n            const propertyStyleFound = style.value.find((v) => {\n              if (v && v.valueRange) {\n                return (\n                  v.valueRange.start <= propertyValue &&\n                  propertyValue < v.valueRange.end\n                );\n              }\n              return undefined;\n            });\n            if (propertyStyleFound) {\n              newStyle = propertyStyleFound.style;\n            }\n          }\n        }\n      }\n    }\n\n    return newStyle;\n  };\n}\n\nfunction Leaflet() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const state = useTrackedState();\n  const [dialogOpen, setDialogOpen] = React.useState(false);\n  const [AllBiomesDialogOpen, setAllBiomesDialogOpen] = React.useState(false);\n\n  const { t } = useTranslation();\n\n  const [\n    featureSelected,\n    setFeatureSelected,\n  ] = React.useState<GeoJSON.Feature | null>(null);\n\n  const geoJSONRef = React.useRef<any>(null);\n  const mapRef = React.useRef<any>(null);\n  const legendRef = React.useRef<any>();\n\n  const namesByLayer: any = {};\n  let removeFromHover: string | null = null;\n\n  const getFeatureName = (feature: GeoJSON.Feature) => {\n    let name = '';\n    if (feature && feature.properties && feature.properties.nm) {\n      name = feature.properties.nm as string;\n    }\n    return name;\n  };\n\n  const handleHighlightFeature = (layer: any) => {\n    if (!layer) {\n      return;\n    }\n\n    layer.setStyle({\n      weight: 3,\n      color: '#666',\n      dashArray: '',\n      fillOpacity: 0.7,\n    });\n\n    if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {\n      layer.bringToFront();\n    }\n  };\n\n  const handleResetHighlight = (geoJSONRef: any, layer: any) => {\n    if (geoJSONRef && geoJSONRef.current && layer) {\n      geoJSONRef.current.leafletElement.resetStyle(layer);\n    }\n  };\n\n  const onEachFeature = (feature: GeoJSON.Feature, layer: Layer) => {\n    const name = getFeatureName(feature);\n\n    // const popupContent = `<strong>${name}</strong>`;\n    // layer.bindPopup(popupContent, { closeButton: true, autoPan: false });\n\n    namesByLayer[name] = layer;\n\n    layer.on('click', () => {\n      setDialogOpen(true);\n      setFeatureSelected(feature);\n    });\n\n    layer.on('mouseover', (e: any) => {\n      handleHighlightFeature(e.target);\n      legendRef.current.setHover(name);\n    });\n\n    layer.on('mouseout', (e: any) => {\n      handleResetHighlight(geoJSONRef, e.target);\n      legendRef.current.setHover(null);\n    });\n  };\n\n  const handleDialogClose = () => {\n    setDialogOpen(false);\n    legendRef.current.setHover(null);\n  };\n\n  const handleAllBiomesDialogClose = () => {\n    setAllBiomesDialogOpen(false);\n  };\n\n  const handleHoverLegend = (name: string | null) => {\n    if (name) {\n      const layer = namesByLayer[name];\n      handleHighlightFeature(layer);\n\n      removeFromHover = name;\n    } else {\n      if (removeFromHover) {\n        const layer = namesByLayer[removeFromHover];\n        handleResetHighlight(geoJSONRef, layer);\n      }\n    }\n  };\n\n  const handleClickLegend = (name: string) => {\n    const layer = namesByLayer[name];\n\n    setDialogOpen(true);\n    setFeatureSelected(layer.feature);\n  };\n\n  const loadGeoJSON = (views: View[]) => {\n    return (\n      <div>\n        {views\n          .filter((view?: View) => view && view.data && view.visible)\n          .map((view?: View) => {\n            return (\n              <div key={createObjectId()}>\n                <GeoJSON\n                  key={view!.name}\n                  data={view!.data!}\n                  style={geoJSONStyle(view!)}\n                  onEachFeature={onEachFeature}\n                  ref={geoJSONRef}\n                />\n\n                <Legend\n                  key={createObjectId()}\n                  type={view?.type!}\n                  style={view!.style!}\n                  onHover={handleHoverLegend}\n                  onClick={handleClickLegend}\n                  ref={legendRef}\n                />\n              </div>\n            );\n          })}\n      </div>\n    );\n  };\n\n  const loadTileLayer = (views: View[]): JSX.Element[] => {\n    const attributesMapper: any = {\n      'Natural Vegetation': 'natveg',\n      'Forest Regenerated': 'forreg',\n      'Planted Forest': 'pltfor',\n      Agriculture: 'cropland',\n      Pasture: 'pasture',\n      'CR Carbon': 'cr_carbon',\n    };\n\n    return views\n      .filter(\n        (view?: View) =>\n          view &&\n          view.url &&\n          view.visible &&\n          state.currentYear &&\n          state.currentAttribute,\n      )\n      .map((view?: View) => {\n        // const scenarioNames = mapper.getScenarioNamesFriendly();\n        let scenario = state.currentScenario;\n        const attribute = attributesMapper[state.currentAttribute];\n        let isTMS = false;\n\n        // if (state.currentYear === 2020) {\n        //   if (scenario !== scenarioNames.IDC2) {\n        //     if (attribute !== 'cr_carbon') {\n        //       scenario = scenarioNames.IDC2;\n        //     }\n        //   }\n        // }\n\n        let baseUrl = view!.url!;\n        if (attribute === 'cr_carbon') {\n          isTMS = true;\n          baseUrl = baseUrl.replace('/v4', '');\n        }\n\n        const url = baseUrl\n          .replace('{year}', state.currentYear.toString())\n          .replace('{attribute}', attribute)\n          .replace('{scenario}', scenario.toLowerCase());\n\n        return (\n          <div key={createObjectId()}>\n            <TileLayer\n              url={url}\n              opacity={1}\n              zIndex={3000}\n              minZoom={3}\n              maxZoom={4}\n              tms={isTMS}\n              // attribution='&copy; <a href=\"https://iopscience.iop.org/article/10.1088/1748-9326/aaccbb\" target=\"_blank\" rel=\"noopener noreferrer\">RESTORE+Project</a>'\n            />\n\n            <Legend\n              key={createObjectId()}\n              type={view?.type!}\n              style={view!.style!}\n            />\n          </div>\n        );\n      });\n  };\n\n  const loadAttributes = (views: View[], classes: any): JSX.Element[] => {\n    const layers: JSX.Element[] = [];\n\n    views.forEach((view) => {\n      if (view && view.data && view.visible) {\n        let geojson = { ...view.data } as any;\n\n        // TODO deixar mais generico\n        if (state.currentBorder) {\n          if (state.currentBorder === 'Brazil') {\n            geojson = FeatureService.cache.labels\n              .brazil as GeoJSON.GeoJsonObject;\n          }\n\n          if (state.currentBorder === 'Regions') {\n            geojson = FeatureService.cache.labels\n              .regions as GeoJSON.GeoJsonObject;\n          }\n\n          if (state.currentBorder === 'States') {\n            geojson = FeatureService.cache.labels\n              .states as GeoJSON.GeoJsonObject;\n          }\n        }\n\n        if (!geojson) {\n          return;\n        }\n\n        for (const feature of geojson.features) {\n          const properties = feature.properties;\n\n          const geometry = feature.geometry;\n          const lat = geometry.coordinates[1];\n          const lng = geometry.coordinates[0];\n          const coords: any = [lat, lng];\n\n          if (\n            state.mapPropeties.dataTooltipsEnabled &&\n            state.currentScenario &&\n            state.currentAttribute &&\n            state.currentYear\n          ) {\n            let unity = 'Mha';\n            let denominator = 1000;\n            if (state.currentAttribute === 'CR Carbon') {\n              unity = 'PgC';\n              denominator = 1000000;\n            }\n\n            if (state.compareScenarioEnabled && state.compareWithScenario) {\n              if (mapper.containsCurrentAttribute(state)) {\n                let baseFieldValue = mapper.getCurrentScenarioFieldValue(\n                  state,\n                  properties,\n                );\n\n                if (!baseFieldValue) {\n                  baseFieldValue = 0.0;\n                }\n\n                let compareFildValue = mapper.getCompareScenarioFieldValue(\n                  state,\n                  properties,\n                );\n                if (!compareFildValue) {\n                  compareFildValue = 0.0;\n                }\n\n                const fieldDiff =\n                  (Number(compareFildValue) - Number(baseFieldValue)) /\n                  denominator;\n                const tooltipValue = formatNumberDefault(Math.abs(fieldDiff));\n                let emojiSelected = '';\n                let tooltipClassSelected = '';\n\n                const ignoreValue = '0.00';\n                if (ignoreValue !== tooltipValue) {\n                  if (fieldDiff > 0) {\n                    emojiSelected = ' ';\n                    tooltipClassSelected = classes.tooltipFC;\n                  } else if (fieldDiff < 0) {\n                    emojiSelected = ' ';\n                    tooltipClassSelected = classes.tooltipNoFC;\n                  }\n                }\n\n                layers.push(\n                  <Marker\n                    key={createObjectId()}\n                    position={coords}\n                    icon={iconEquals}\n                  >\n                    <Tooltip\n                      className={tooltipClassSelected}\n                      direction={'right'}\n                      offset={[0, 0]}\n                      opacity={0.9}\n                      permanent\n                    >\n                      {`${emojiSelected}${tooltipValue} ${unity}`}\n                    </Tooltip>\n                  </Marker>,\n                );\n              }\n            } else {\n              if (mapper.containsCurrentAttribute(state)) {\n                let fieldValue = mapper.getCurrentScenarioFieldValue(\n                  state,\n                  properties,\n                );\n\n                if (!fieldValue) {\n                  fieldValue = 0.0;\n                }\n\n                let tooltipValue = formatNumberDefault(\n                  fieldValue / denominator,\n                );\n                let emojiSelected = '';\n                let tooltipClassSelected = '';\n\n                if (TimelineOption.DIFFERENCE === state.currentTimelineOption) {\n                  let fieldDiffValue = mapper.getCurrentScenarioDifferenceFieldValue(\n                    state,\n                    properties,\n                  );\n\n                  if (!fieldDiffValue) {\n                    fieldDiffValue = 0.0;\n                  }\n\n                  const fieldDiff =\n                    (Number(fieldValue) - Number(fieldDiffValue)) / denominator;\n                  tooltipValue = formatNumberDefault(Math.abs(fieldDiff));\n\n                  const ignoreValue = '0.00';\n                  if (ignoreValue !== tooltipValue) {\n                    if (fieldDiff > 0) {\n                      emojiSelected = ' ';\n                      tooltipClassSelected = classes.tooltipFC;\n                    } else if (fieldDiff < 0) {\n                      emojiSelected = ' ';\n                      tooltipClassSelected = classes.tooltipNoFC;\n                    }\n                  }\n                }\n\n                layers.push(\n                  <Marker\n                    key={createObjectId()}\n                    position={coords}\n                    icon={iconEquals}\n                  >\n                    <Tooltip\n                      className={tooltipClassSelected}\n                      direction={'right'}\n                      offset={[0, 0]}\n                      opacity={0.9}\n                      permanent\n                    >\n                      {`${emojiSelected}${tooltipValue} ${unity}`}\n                    </Tooltip>\n                  </Marker>,\n                );\n              }\n            }\n          }\n        }\n      }\n    });\n\n    return layers;\n  };\n\n  const loadBtnViewGraphAllBiomes = () => {\n    const validViews = ['Biomes', 'Regions', 'States'];\n\n    if (!validViews.includes(state.currentBorder)) {\n      return null;\n    }\n\n    const border = filterByName(state, ViewType.BORDER, state.currentBorder);\n    if (!border) {\n      return null;\n    }\n\n    const handleBtnViewGraphClick = () => {\n      setAllBiomesDialogOpen(true);\n    };\n\n    const getReportAllBiomes = () => {\n      if (!AllBiomesDialogOpen) {\n        return null;\n      }\n\n      return (\n        <ReportAllBiomes\n          open={AllBiomesDialogOpen}\n          view={border}\n          onClose={handleAllBiomesDialogClose}\n        />\n      );\n    };\n\n    const getClassName = () => {\n      if (state.currentBorder === 'Biomes') {\n        return classes.viewGraphAllBiomesBtn;\n      }\n\n      if (state.currentBorder === 'Regions') {\n        return classes.viewGraphAllRegionsBtn;\n      }\n\n      if (state.currentBorder === 'States') {\n        return classes.viewGraphAllStatesBtn;\n      }\n    };\n\n    return (\n      <div className={getClassName()}>\n        <Button\n          className={classes.btnCustom}\n          size=\"small\"\n          variant=\"outlined\"\n          color=\"primary\"\n          onClick={handleBtnViewGraphClick}\n        >\n          {t('ReportAllBiomes.label')}\n        </Button>\n\n        {getReportAllBiomes()}\n      </div>\n    );\n  };\n\n  const loadLines = (): JSX.Element => {\n    if (state.currentBorder === 'States') {\n      const geojson = FeatureService.cache.lines\n        .states as GeoJSON.GeoJsonObject;\n\n      return (\n        <GeoJSON\n          key={'states-labels-lines'}\n          data={geojson}\n          style={{\n            color: '#1f2021',\n            weight: 1.5,\n          }}\n        />\n      );\n    }\n\n    return <div></div>;\n  };\n\n  React.useEffect(() => {\n    const featureService = FeatureService;\n\n    // featureService.getBordersNone(t).then((views: View[]) => {\n    //   views.forEach((view: View) => dispatch({ type: 'ADD_VIEW', view }));\n    // });\n\n    Promise.all([\n      featureService.getBordersBrazil(t),\n      featureService.getBordersRegions(t),\n      featureService.getBordersBiomes(t),\n      featureService.getBordersStates(t),\n    ]).then(() => {\n      featureService.getBordersBrazil(t).then((views: View[]) => {\n        views.forEach((view: View) => dispatch({ type: 'ADD_VIEW', view }));\n      });\n\n      featureService.getBordersRegions(t).then((views: View[]) => {\n        views.forEach((view: View) => dispatch({ type: 'ADD_VIEW', view }));\n      });\n\n      featureService.getBordersBiomes(t).then((views: View[]) => {\n        views.forEach((view: View) => dispatch({ type: 'ADD_VIEW', view }));\n      });\n\n      featureService.getBordersStates(t).then((views: View[]) => {\n        views.forEach((view: View) => dispatch({ type: 'ADD_VIEW', view }));\n      });\n    });\n\n    featureService.getAttributesBiomes(t).then((views: View[]) => {\n      views.forEach((view: View) => dispatch({ type: 'ADD_VIEW', view }));\n    });\n\n    featureService.getScenarios(t).then((views: View[]) => {\n      views.forEach((view: View) => dispatch({ type: 'ADD_VIEW', view }));\n    });\n\n    featureService.getBackgrounds(t).then((views: View[]) => {\n      views.forEach((view: View) => dispatch({ type: 'ADD_VIEW', view }));\n    });\n\n    setTimeout(async () => {\n      featureService.getLabelsBrazil().finally();\n      featureService.getLabelsRegions().finally();\n      featureService.getLabelsStates().finally();\n      featureService.getLinesStates().finally();\n    }, 300);\n\n    if (mapRef && mapRef.current) {\n      const map = mapRef.current.leafletElement;\n      console.log('Map Instance', map);\n    }\n  }, [dispatch, t, mapRef]);\n\n  return (\n    <div>\n      <Map\n        id=\"mapId\"\n        center={state.mapPropeties}\n        zoom={state.mapPropeties.zoom}\n        zoomControl={false}\n        scrollWheelZoom={false}\n        dragging={false}\n        ref={mapRef}\n      >\n        <TileLayer\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n        />\n\n        {loadGeoJSON(filter(state, ViewType.BORDER))}\n        {loadAttributes(filter(state, ViewType.ATTRIBUTE), classes)}\n        {loadTileLayer(filter(state, ViewType.BACKGROUND))}\n        {loadLines()}\n      </Map>\n      <Report\n        open={dialogOpen}\n        properties={featureSelected?.properties}\n        onClose={handleDialogClose}\n      />\n      <Temporal></Temporal>\n      {loadBtnViewGraphAllBiomes()}\n    </div>\n  );\n}\n\nexport default React.memo(Leaflet);\n","import React from 'react';\n\nimport Leaflet from 'components/Leaflet';\n\nfunction Main() {\n  return (\n    <div>\n      <Leaflet />\n    </div>\n  );\n}\n\nexport default React.memo(Main);\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog, { DialogProps } from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core';\n\nimport { useTranslation } from 'react-i18next';\n\nimport Logo from '../../assets/img/restore-logo.png';\nimport BMULogo from '../../assets/img/bmu-logo.png';\nimport resumeEn from '../../assets/img/resume-en.png';\nimport resumePt from '../../assets/img/resume-pt.png';\n\ntype ResumeProps = {\n  open: boolean;\n  onClose: () => void;\n};\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    buttonDefault: {\n      backgroundColor: '#24806F',\n      color: '#ffffff',\n      '&:hover': {\n        backgroundColor: '#24806F',\n      },\n    },\n    imgContent: {\n      display: 'flex',\n      alignItems: 'center',\n      flexDirection: 'row',\n      margin: '12px 16px 8px 16px',\n      [theme.breakpoints.down('xs')]: {\n        flexDirection: 'column',\n        marginBottom: 16,\n      },\n    },\n    imgLogo: {\n      height: 30,\n      marginLeft: 24,\n      [theme.breakpoints.down('xs')]: {\n        marginLeft: 0,\n        marginTop: 8,\n      },\n    },\n    imgResumeTable: {\n      width: '90%',\n      height: '100%',\n      marginBottom: 0,\n      margin: 'auto',\n      [theme.breakpoints.down('xs')]: {\n        marginBottom: 16,\n      },\n    },\n    imgBMULogo: {\n      height: 120,\n      marginTop: 16,\n      marginBottom: 0,\n      [theme.breakpoints.down('xs')]: {\n        marginBottom: 16,\n      },\n    },\n    contentDialogTitile: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'space-between',\n      [theme.breakpoints.down('xs')]: {\n        justifyContent: 'center',\n        fontSize: '16px',\n        flexWrap: 'wrap',\n        textAlign: 'center',\n      },\n    },\n    dialogInfo: {\n      [theme.breakpoints.up('xl')]: {\n        fontSize: '14px',\n      },\n    },\n  }),\n);\n\nfunction Resume({ open, onClose }: ResumeProps) {\n  const classes = useStyles();\n  const [scroll] = React.useState<DialogProps['scroll']>('paper');\n\n  const { t } = useTranslation();\n\n  const getImageOfResumeTable = () => {\n    if (t('Language') === 'pt') {\n      return resumePt;\n    }\n    return resumeEn;\n  };\n\n  const descriptionElementRef = React.useRef<HTMLElement>(null);\n  React.useEffect(() => {\n    if (open) {\n      const { current: descriptionElement } = descriptionElementRef;\n      if (descriptionElement !== null) {\n        descriptionElement.focus();\n      }\n    }\n  }, [open]);\n\n  return (\n    <div>\n      <Dialog\n        fullWidth={true}\n        maxWidth={'md'}\n        open={open}\n        onClose={onClose}\n        scroll={scroll}\n        aria-labelledby=\"scroll-dialog-title\"\n        aria-describedby=\"scroll-dialog-description\"\n      >\n        <DialogTitle id=\"scroll-dialog-title\">\n          <div className={classes.contentDialogTitile}>\n            {t('Subtitle')}\n            <img src={Logo} className={classes.imgLogo} alt=\"Restore\" />\n          </div>\n        </DialogTitle>\n\n        <DialogContent dividers={scroll === 'paper'}>\n          <DialogContentText\n            id=\"scroll-dialog-description\"\n            ref={descriptionElementRef}\n            tabIndex={-1}\n            align={'justify'}\n            style={{ marginBottom: '0' }}\n            className={classes.dialogInfo}\n          >\n            {t('Resume.part01')}\n\n            <strong>\n              <a\n                href=\"https://iopscience.iop.org/article/10.1088/1748-9326/aaccbb\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                {t('Resume.part02')}\n              </a>\n            </strong>\n\n            {t('Resume.part03')}\n          </DialogContentText>\n\n          <div className={classes.imgContent}>\n            <img\n              src={getImageOfResumeTable()}\n              className={classes.imgResumeTable}\n              alt=\"Restore+\"\n            />\n          </div>\n\n          <div className={classes.imgContent}>\n            <img src={BMULogo} className={classes.imgBMULogo} alt=\"Restore+\" />\n          </div>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={onClose} className={classes.buttonDefault}>\n            {t('ReportAllBiomes.buttonClose')}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n\nexport default React.memo(Resume);\n","import React from 'react';\nimport { Chip, Tooltip } from '@material-ui/core';\n\nexport type SideChipProps = {\n  name: string;\n  label: string;\n  disabled: boolean;\n  active: boolean;\n  tooltip: string;\n  className: string;\n  backgroundColorOnActive: string;\n  onClick?: (props: SideChipProps) => void;\n};\n\nfunction SideChip(props: SideChipProps) {\n  const [active, setActive] = React.useState(props.active);\n\n  const getStyle = (): any => {\n    const styleOn = {\n      backgroundColor: props.backgroundColorOnActive,\n      color: '#fff',\n      border: props.backgroundColorOnActive,\n    };\n\n    return props.active ? styleOn : {};\n  };\n\n  const internalHandleClick = () => {\n    let newActive = !active;\n    if (props.active === false && newActive === false) {\n      newActive = true;\n    }\n\n    setActive(newActive);\n\n    if (props.onClick) {\n      props!.onClick({ ...props, active: newActive });\n    }\n  };\n\n  return (\n    <Tooltip title={props.tooltip} arrow>\n      <Chip\n        label={props.label}\n        disabled={props.disabled}\n        onClick={internalHandleClick}\n        variant=\"outlined\"\n        style={{\n          ...getStyle(),\n        }}\n        className={props.className}\n      />\n    </Tooltip>\n  );\n}\n\nexport default React.memo(SideChip);\n","import { View, ViewType } from 'containers/Types';\nimport React from 'react';\nimport { useDispatch, useTrackedState } from 'store';\nimport { filter } from 'store/utils';\nimport SideChip, { SideChipProps } from './SideChip';\n\ntype SideChipListProps = {\n  viewType: ViewType;\n  className: string;\n  backgroundColorOnActive: string | { [name: string]: string };\n};\n\nfunction SideChipList(props: SideChipListProps) {\n  const dispatch = useDispatch();\n  const state = useTrackedState();\n\n  const getBackgroundColor = (name: string) => {\n    let backgroundColorOnActive = '';\n\n    if (typeof props.backgroundColorOnActive === 'string') {\n      backgroundColorOnActive = props.backgroundColorOnActive;\n    } else if (props.backgroundColorOnActive.hasOwnProperty(name)) {\n      backgroundColorOnActive = props.backgroundColorOnActive[name];\n    }\n\n    return backgroundColorOnActive;\n  };\n\n  const getChips = (): SideChipProps[] => {\n    return filter(state, props.viewType).map((view: View) => {\n      let disabled = false;\n      if (\n        props.viewType === ViewType.BACKGROUND &&\n        state.currentAttribute === 'CR Carbon'\n      ) {\n        if (view.name === '1x1km') {\n          disabled = true;\n        }\n      }\n\n      return {\n        name: view.name,\n        label: view.label,\n        active: view.visible,\n        tooltip: view.description,\n        className: props.className,\n        disabled,\n        backgroundColorOnActive: getBackgroundColor(view.name),\n      };\n    });\n  };\n\n  const handleClick = (data: SideChipProps) => {\n    dispatch({\n      type: 'TOGGLE_VIEW',\n      viewType: props.viewType,\n      name: data.name,\n      visible: data.active,\n    });\n  };\n\n  return (\n    <div>\n      {getChips().map((chip: SideChipProps) => (\n        <SideChip\n          key={chip.label}\n          name={chip.name}\n          label={chip.label}\n          disabled={chip.disabled}\n          active={chip.active}\n          tooltip={chip.tooltip}\n          className={chip.className}\n          backgroundColorOnActive={chip.backgroundColorOnActive}\n          onClick={handleClick}\n        />\n      ))}\n    </div>\n  );\n}\n\nexport default React.memo(SideChipList);\n","import { View, ViewType } from 'containers/Types';\nimport React from 'react';\nimport { useDispatch, useTrackedState } from 'store';\nimport { filter } from 'store/utils';\nimport SideChip, { SideChipProps } from './SideChip';\nimport mapper from 'store/mapper';\n\ntype SideChipListCompareScenarioProps = {\n  viewType: ViewType;\n  className: string;\n  backgroundColorOnActive: string | { [name: string]: string };\n  onClick?: (props: SideChipProps) => void;\n};\n\nfunction SideChipListCompareScenario(props: SideChipListCompareScenarioProps) {\n  const dispatch = useDispatch();\n  const state = useTrackedState();\n  const scenariosLabels = mapper.getScenarioNamesFriendly() as any;\n\n  const getBackgroundColor = (name: string) => {\n    let backgroundColorOnActive = '';\n\n    if (typeof props.backgroundColorOnActive === 'string') {\n      backgroundColorOnActive = props.backgroundColorOnActive;\n    } else if (props.backgroundColorOnActive.hasOwnProperty(name)) {\n      backgroundColorOnActive = props.backgroundColorOnActive[name];\n    }\n\n    return backgroundColorOnActive;\n  };\n\n  const getChips = (): SideChipProps[] => {\n    const currentScenario = state.currentScenario;\n    const chips = filter(state, props.viewType)\n      .filter((view: View) => view.name !== currentScenario)\n      .map((view: View) => {\n        return {\n          name: view.name,\n          label: `${view.label} - ${scenariosLabels[currentScenario]}`,\n          active: view.visible,\n          tooltip: `${view.label} - ${scenariosLabels[currentScenario]}: ${view.description}`,\n          className: props.className,\n          disabled: false,\n          backgroundColorOnActive: getBackgroundColor(view.name),\n        };\n      });\n\n    if (chips.length) {\n      let hasOneActive = false;\n      chips.forEach((chip: SideChipProps) => {\n        if (chip.name === state.compareWithScenario) {\n          chip.active = true;\n          chip.disabled = true;\n          hasOneActive = true;\n\n          // console.log('>> SideChipListCompareScenario#getChips', state.compareWithScenario, hasOneActive);\n        }\n      });\n\n      if (!hasOneActive) {\n        chips[0].active = true;\n        dispatch({\n          type: 'SET_COMPARE_SCENARIO',\n          name: chips[0].name,\n        });\n      }\n    }\n\n    return chips;\n  };\n\n  const handleClick = (data: SideChipProps) => {\n    dispatch({\n      type: 'SET_COMPARE_SCENARIO',\n      name: data.name,\n    });\n\n    // console.log('>> SideChipListCompareScenario#handleClick', data.name);\n\n    if (props.onClick) {\n      props.onClick(data);\n    }\n  };\n\n  return (\n    <div>\n      {getChips().map((chip: SideChipProps) => (\n        <SideChip\n          key={chip.label}\n          name={chip.name}\n          label={chip.label}\n          disabled={chip.disabled}\n          active={chip.active}\n          tooltip={chip.tooltip}\n          className={chip.className}\n          backgroundColorOnActive={chip.backgroundColorOnActive}\n          onClick={handleClick}\n        />\n      ))}\n    </div>\n  );\n}\n\nexport default React.memo(SideChipListCompareScenario);\n","import {\n  Accordion,\n  AccordionDetails,\n  AccordionSummary,\n  FormControlLabel,\n  Switch,\n  Tooltip,\n  Typography,\n} from '@material-ui/core';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { TimelineOption, ViewType } from 'containers/Types';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useDispatch, useTrackedState } from 'store';\nimport SideChipList from './SideChipList';\nimport SideChipListCompareScenario from './SideChipListCompareScenario';\nimport './style.scss';\n\nimport mapper from 'store/mapper';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      maxWidth: 275,\n      position: 'absolute',\n      zIndex: 1199,\n      // left: 56,\n      left: 0,\n      height: '100%',\n    },\n    cardContent: {\n      padding: '68px 8px',\n      overflow: 'auto',\n      height: '610px',\n      marginTop: '6px',\n      [theme.breakpoints.up('xl')]: {\n        height: 'auto',\n      },\n    },\n    main: {\n      width: '100%',\n    },\n    customAccordionSummary: {\n      padding: '0px 8px',\n    },\n    customAccordionDetails: {\n      flexWrap: 'wrap',\n      padding: '0px 4px 4px',\n    },\n    heading: {\n      fontSize: theme.typography.pxToRem(14),\n      fontWeight: theme.typography.fontWeightMedium,\n    },\n    chipSpacing: {\n      margin: '2px 4px',\n      [theme.breakpoints.up('xl')]: {\n        margin: '2px',\n        fontSize: '12px',\n      },\n    },\n    formControl: {\n      margin: theme.spacing(1),\n      minWidth: 120,\n      marginLeft: '12px',\n    },\n    switch: {\n      marginBottom: '6px',\n      marginLeft: 8,\n    },\n    compareSwitch: {\n      width: '100%',\n      margin: '12px 8px 5px 8px',\n    },\n  }),\n);\n\nfunction SideContent() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const state = useTrackedState();\n  const { t } = useTranslation();\n\n  const [stateCompareSwitch, setStateCompareSwitch] = React.useState({\n    checkedA: true,\n    checkedB: false,\n  });\n\n  const [compareOption, setCompareOption] = React.useState(-1);\n\n  const isDisabledMapTooltip = () => {\n    return state.currentBorder === 'None';\n  };\n\n  const isDisabledSwitchTimelieOptions = () => {\n    return state.compareScenarioEnabled || state.changeFromYear > 2020;\n  };\n\n  const isDisabledCompareScenario = () => {\n    return TimelineOption.DIFFERENCE === state.currentTimelineOption;\n  };\n\n  const getScenarioSwitchTextLabel = () => {\n    return t('Drawer.SideContent.scenario.buttons.buttonCompare');\n  };\n\n  const handleSwitchMapTooltip = () => {\n    const checked = !state.mapPropeties.dataTooltipsEnabled;\n    dispatch({\n      type: 'SET_MAP_TOOLTIP',\n      enabled: checked,\n    });\n  };\n  const [\n    switchStateTimelineOption,\n    setSwitchStateTimelineOption,\n  ] = React.useState({\n    checkedA: false,\n    checkedB: true,\n  });\n\n  const getSwitchLabelTooltips = (): string => {\n    return state.mapPropeties.dataTooltipsEnabled\n      ? t('Drawer.SideContent.settings.chips.2.label')\n      : t('Drawer.SideContent.settings.chips.3.label');\n  };\n\n  const getSwitchLabelValues = (): string => {\n    return TimelineOption.ABSOLUTE === state.currentTimelineOption\n      ? t('Drawer.SideContent.settings.chips.0.label')\n      : t('Drawer.SideContent.settings.chips.1.label');\n  };\n\n  const getSwitchMapTooltipDescription = (): string => {\n    return t('Drawer.SideContent.settings.chips.2.description');\n  };\n\n  const getSwitchTimelineDescription = (): string => {\n    return TimelineOption.ABSOLUTE === state.currentTimelineOption\n      ? t('Drawer.SideContent.settings.chips.0.description')\n      : t('Drawer.SideContent.settings.chips.1.description');\n  };\n\n  const handleChangeSwitchTimelineOption = (\n    event: React.ChangeEvent<HTMLInputElement>,\n  ) => {\n    const checked = event.target.checked;\n    if (checked) {\n      dispatch({\n        type: 'SET_TIMELINE_OPTION',\n        option: TimelineOption.DIFFERENCE,\n      });\n    } else {\n      dispatch({\n        type: 'SET_TIMELINE_OPTION',\n        option: TimelineOption.ABSOLUTE,\n      });\n    }\n\n    setSwitchStateTimelineOption({\n      ...switchStateTimelineOption,\n      [event.target.name]: checked,\n    });\n  };\n\n  const handleCompareSwitchChange = (event: any) => {\n    const checked = event.target.checked;\n\n    let compareWith = '';\n    let switchOption = -1;\n    if (checked) {\n      const options = mapper.getSwitchOptions(state);\n\n      switchOption = 0;\n      if (compareOption === 0) {\n        switchOption = 1;\n      }\n      if (compareOption === 1) {\n        switchOption = 2;\n      }\n      if (compareOption === 2) {\n        switchOption = 3;\n      }\n      if (compareOption === 3) {\n        switchOption = 4;\n      }\n\n      compareWith = options[switchOption];\n    }\n\n    setCompareOption(switchOption);\n\n    dispatch({\n      type: 'SET_COMPARE_SCENARIO',\n      name: compareWith,\n    });\n\n    // console.log('>> SideContent#handleCompareSwitchChange', compareOption, switchOption, compareWith);\n\n    setStateCompareSwitch({\n      ...stateCompareSwitch,\n      [event.target.name]: checked,\n    });\n\n    dispatch({\n      type: 'SET_ENABLE_COMPARE_SCENARIO',\n      enabled: checked,\n    });\n  };\n\n  const getScenarioSideChipList = () => {\n    if (state.compareScenarioEnabled) {\n      return (\n        <SideChipListCompareScenario\n          viewType={ViewType.SCENARIO}\n          className={classes.chipSpacing}\n          backgroundColorOnActive={mapper.getScenariosShip()}\n        />\n      );\n    }\n\n    return (\n      <SideChipList\n        viewType={ViewType.SCENARIO}\n        className={classes.chipSpacing}\n        backgroundColorOnActive={mapper.getScenariosShip()}\n      />\n    );\n  };\n\n  const getScenarioDetails = () => {\n    return (\n      <>\n        {getScenarioSideChipList()}\n\n        <div className={classes.compareSwitch}>\n          <FormControlLabel\n            control={\n              <Switch\n                checked={stateCompareSwitch.checkedB}\n                onChange={handleCompareSwitchChange}\n                name=\"checkedB\"\n                color=\"primary\"\n                size=\"small\"\n              />\n            }\n            label={getScenarioSwitchTextLabel()}\n            disabled={isDisabledCompareScenario()}\n          />\n        </div>\n      </>\n    );\n  };\n\n  return (\n    <Card className={classes.root}>\n      <CardContent className={classes.cardContent}>\n        <div className={classes.main}>\n          <Accordion defaultExpanded={true}>\n            <AccordionSummary\n              className={classes.customAccordionSummary}\n              expandIcon={<ExpandMoreIcon />}\n              aria-controls=\"panel1a-content\"\n              id=\"panel1a-header\"\n            >\n              <Typography className={classes.heading}>\n                {t('Drawer.SideContent.scenario.title')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.customAccordionDetails}>\n              {getScenarioDetails()}\n            </AccordionDetails>\n          </Accordion>\n\n          <Accordion defaultExpanded={true}>\n            <AccordionSummary\n              className={classes.customAccordionSummary}\n              expandIcon={<ExpandMoreIcon />}\n              aria-controls=\"panel2a-content\"\n              id=\"panel2a-header\"\n            >\n              <Typography className={classes.heading}>\n                {t('Drawer.SideContent.attribute.title')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.customAccordionDetails}>\n              <SideChipList\n                viewType={ViewType.ATTRIBUTE}\n                className={classes.chipSpacing}\n                backgroundColorOnActive={state.colors.None}\n              />\n            </AccordionDetails>\n          </Accordion>\n\n          <Accordion defaultExpanded={true}>\n            <AccordionSummary\n              className={classes.customAccordionSummary}\n              expandIcon={<ExpandMoreIcon />}\n              aria-controls=\"panel3a-content\"\n              id=\"panel3a-header\"\n            >\n              <Typography className={classes.heading}>\n                {t('Drawer.SideContent.border.title')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.customAccordionDetails}>\n              <SideChipList\n                viewType={ViewType.BORDER}\n                className={classes.chipSpacing}\n                backgroundColorOnActive={state.colors.None}\n              />\n            </AccordionDetails>\n          </Accordion>\n\n          <Accordion defaultExpanded={true}>\n            <AccordionSummary\n              className={classes.customAccordionSummary}\n              expandIcon={<ExpandMoreIcon />}\n              aria-controls=\"panel3a-content\"\n              id=\"panel3a-header\"\n            >\n              <Typography className={classes.heading}>\n                {t('Drawer.SideContent.background.title')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.customAccordionDetails}>\n              <SideChipList\n                viewType={ViewType.BACKGROUND}\n                className={classes.chipSpacing}\n                backgroundColorOnActive={state.colors.None}\n              />\n            </AccordionDetails>\n          </Accordion>\n\n          <Accordion defaultExpanded={true}>\n            <AccordionSummary\n              className={classes.customAccordionSummary}\n              expandIcon={<ExpandMoreIcon />}\n              aria-controls=\"panel3a-content\"\n              id=\"panel3a-header\"\n            >\n              <Typography className={classes.heading}>\n                {t('Drawer.SideContent.settings.title')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.customAccordionDetails}>\n              <Tooltip title={getSwitchTimelineDescription()} arrow>\n                <FormControlLabel\n                  className={classes.switch}\n                  control={\n                    <Switch\n                      size=\"small\"\n                      checked={switchStateTimelineOption.checkedA}\n                      onChange={handleChangeSwitchTimelineOption}\n                      name=\"checkedA\"\n                      color=\"primary\"\n                    />\n                  }\n                  label={getSwitchLabelValues()}\n                  disabled={isDisabledSwitchTimelieOptions()}\n                />\n              </Tooltip>\n\n              <Tooltip title={getSwitchMapTooltipDescription()} arrow>\n                <FormControlLabel\n                  style={{\n                    marginLeft: 8,\n                    marginRight: '-2px',\n                  }}\n                  control={\n                    <Switch\n                      checked={state.mapPropeties.dataTooltipsEnabled}\n                      onChange={handleSwitchMapTooltip}\n                      color=\"primary\"\n                      size=\"small\"\n                    />\n                  }\n                  label={getSwitchLabelTooltips()}\n                  disabled={isDisabledMapTooltip()}\n                />\n              </Tooltip>\n            </AccordionDetails>\n          </Accordion>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n\nexport default React.memo(SideContent);\n","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\n\nimport { useTrackedState } from 'store';\nimport { useTranslation } from 'react-i18next';\n\nimport { getMapTitleEn, getMapTitlePt } from 'store/utils';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    main: {\n      width: '100%',\n      display: 'flex',\n      zIndex: 1198,\n      position: 'fixed',\n      justifyContent: 'center',\n      top: '68px',\n    },\n    root: {\n      maxWidth: 800,\n      width: 'auto',\n      lineHeight: 1.2,\n      backgroundColor: '#757575',\n      color: '#fff',\n      fontWeight: 400,\n      [theme.breakpoints.down('sm')]: {\n        top: '53px',\n        left: '8px',\n      },\n    },\n    title: {\n      padding: '0 8px',\n      margin: 8,\n    },\n  }),\n);\n\nfunction MapTitle() {\n  const classes = useStyles();\n  const state = useTrackedState();\n  const { t } = useTranslation();\n\n  const getCard = () => {\n    let title = getMapTitleEn(state, t);\n    if (t('Language') === 'pt') {\n      title = getMapTitlePt(state, t);\n    }\n\n    if (title !== null) {\n      return (\n        <div className={classes.main}>\n          <Card className={classes.root}>\n            <p className={classes.title}>{title}</p>\n          </Card>\n        </div>\n      );\n    }\n\n    return <div></div>;\n  };\n\n  return getCard();\n}\n\nexport default React.memo(MapTitle);\n","import React from 'react';\n\nimport clsx from 'clsx';\nimport {\n  createStyles,\n  makeStyles,\n  Theme,\n  useTheme,\n} from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport Button from '@material-ui/core/Button';\n\nimport { useTranslation } from 'react-i18next';\n\nimport Main from 'layouts/Main';\nimport { Icon } from '@material-ui/core';\nimport Resume from 'components/Resume';\nimport SideContent from 'components/SideContent';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MapTitle from 'components/MapTitle';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: 'flex',\n    },\n    appBar: {\n      zIndex: theme.zIndex.drawer + 1,\n      transition: theme.transitions.create(['width', 'margin'], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen,\n      }),\n    },\n    appBarShift: {\n      marginLeft: drawerWidth,\n      width: `calc(100% - ${drawerWidth}px)`,\n      transition: theme.transitions.create(['width', 'margin'], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.enteringScreen,\n      }),\n    },\n    menuButton: {\n      marginRight: 24,\n      '& > span': {\n        marginLeft: '-8px',\n      },\n      display: 'none',\n    },\n    hide: {\n      display: 'none',\n    },\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0,\n      whiteSpace: 'nowrap',\n    },\n    drawerOpen: {\n      width: drawerWidth,\n      transition: theme.transitions.create('width', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.enteringScreen,\n      }),\n    },\n    drawerClose: {\n      transition: theme.transitions.create('width', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen,\n      }),\n      overflowX: 'hidden',\n      width: theme.spacing(7) + 1,\n      [theme.breakpoints.up('sm')]: {\n        width: theme.spacing(7) + 4,\n      },\n      display: 'none',\n    },\n    toolbar: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'flex-end',\n      padding: theme.spacing(0, 1),\n      // necessary for content to be below app bar\n      ...theme.mixins.toolbar,\n    },\n    content: {\n      flexGrow: 1,\n      padding: theme.spacing(0),\n    },\n    contentInfo: {\n      width: '100%',\n      display: 'flex',\n      justifyContent: 'space-between',\n    },\n    contentInfoText: {\n      display: 'flex',\n      alignItems: 'center',\n    },\n    subtitle: {\n      marginLeft: '24px',\n      display: 'block',\n      [theme.breakpoints.down('sm')]: {\n        display: 'none',\n      },\n    },\n    download: {\n      marginTop: '-5px',\n    },\n    link: {\n      color: '#fff',\n      textDecoration: 'none',\n    },\n    icon: {\n      marginRight: 8,\n      position: 'relative',\n      top: '7px',\n    },\n    adjustMobile: {\n      [theme.breakpoints.down('sm')]: {\n        display: 'none',\n      },\n    },\n  }),\n);\n\nfunction Sidebar() {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [open, setOpen] = React.useState(false);\n  const [resumeOpen, setResumeOpen] = React.useState(\n    process.env.NODE_ENV === 'production',\n  );\n\n  const { t } = useTranslation();\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  const handleResumeOpen = () => {\n    setResumeOpen(true);\n  };\n\n  const handleResumeClose = () => {\n    setResumeOpen(false);\n  };\n\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n\n  const handleTranslateOpen = (event: React.MouseEvent<HTMLButtonElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleTranslateCloseNone = () => {\n    setAnchorEl(null);\n  };\n\n  const handleTranslateCloseEnglish = () => {\n    setAnchorEl(null);\n    if (window.location.href.includes('pt')) {\n      window.location.href = `http://${window.location.host}`;\n    }\n  };\n\n  const handleTranslateClosePortuguese = () => {\n    setAnchorEl(null);\n    if (!window.location.href.includes('pt')) {\n      window.location.href = `http://${window.location.host}?lng=pt`;\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar\n        position=\"fixed\"\n        className={clsx(classes.appBar, {\n          [classes.appBarShift]: open,\n        })}\n      >\n        <Toolbar>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={handleDrawerOpen}\n            edge=\"start\"\n            className={clsx(classes.menuButton, {\n              [classes.hide]: open,\n            })}\n          >\n            <MenuIcon />\n          </IconButton>\n\n          <div className={classes.contentInfo}>\n            <div className={classes.contentInfoText}>\n              <Typography variant=\"h6\">{t('Title')}</Typography>\n              <Typography variant=\"subtitle1\" className={classes.subtitle}>\n                {t('Subtitle')}\n              </Typography>\n            </div>\n            <div className={classes.adjustMobile}>\n              <Button\n                style={{ color: '#fff' }}\n                aria-controls=\"simple-menu\"\n                aria-haspopup=\"true\"\n                onClick={handleTranslateOpen}\n              >\n                <Icon style={{ marginRight: 4 }}>translate</Icon>\n                {t('AppBar.buttonTranslate.0')}\n                <Icon>keyboard_arrow_down</Icon>\n              </Button>\n              <Menu\n                id=\"simple-menu\"\n                anchorEl={anchorEl}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={handleTranslateCloseNone}\n              >\n                <MenuItem onClick={handleTranslateCloseEnglish}>\n                  {t('AppBar.buttonTranslate.1')}\n                </MenuItem>\n                <MenuItem onClick={handleTranslateClosePortuguese}>\n                  {t('AppBar.buttonTranslate.2')}\n                </MenuItem>\n              </Menu>\n              {/* <Tooltip title=\"Download data\" arrow>\n                <Button className={classes.download}>\n                  <a\n                    href=\"https://static.publishdata.com.br/brazilsforestcode/download/restoreplus.zip\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className={classes.link}\n                  >\n                    {t('AppBar.buttonDownload')}{' '}\n                    <Icon className={classes.icon}>download</Icon>\n                  </a>\n                </Button>\n              </Tooltip> */}\n              <Button onClick={handleResumeOpen} color=\"inherit\">\n                {t('AppBar.buttonAbout')}{' '}\n                <Icon style={{ marginLeft: 8 }}>info_outlined</Icon>\n              </Button>\n            </div>\n          </div>\n        </Toolbar>\n      </AppBar>\n\n      <Drawer\n        variant=\"permanent\"\n        className={clsx(classes.drawer, {\n          [classes.drawerOpen]: open,\n          [classes.drawerClose]: !open,\n        })}\n        classes={{\n          paper: clsx({\n            [classes.drawerOpen]: open,\n            [classes.drawerClose]: !open,\n          }),\n        }}\n      >\n        <div className={classes.toolbar}>\n          <IconButton onClick={handleDrawerClose}>\n            {theme.direction === 'rtl' ? (\n              <ChevronRightIcon />\n            ) : (\n              <ChevronLeftIcon />\n            )}\n          </IconButton>\n        </div>\n        <Divider />\n      </Drawer>\n\n      <SideContent></SideContent>\n      <MapTitle></MapTitle>\n\n      <Resume open={resumeOpen} onClose={handleResumeClose}></Resume>\n      <main className={classes.content}>\n        <Main />\n      </main>\n    </div>\n  );\n}\n\nexport default React.memo(Sidebar);\n","import React, { Suspense } from 'react';\n\nimport { Provider } from 'store';\nimport { ThemeProvider, createMuiTheme } from '@material-ui/core';\nimport Sidebar from 'layouts/Sidebar';\n\nfunction App() {\n  const theme = createMuiTheme({\n    palette: {\n      primary: {\n        main: '#212121',\n      },\n      secondary: {\n        main: '#FEBF0F',\n      },\n    },\n  });\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Provider>\n        <Suspense fallback=\"loading\">\n          <Sidebar />\n        </Suspense>\n      </Provider>\n    </ThemeProvider>\n  );\n}\n\nexport default React.memo(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport 'styles/index.scss';\nimport * as serviceWorker from 'serviceWorker';\n\nimport './i18n';\nimport App from 'layouts/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}